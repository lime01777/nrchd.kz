import{j as e,Y as g,a as l}from"./app-CYo44y_y.js";import{A as h}from"./AdminLayout-enUz4bpd.js";import"./transition-fgOBoZx1.js";import"./use-is-mounted-Cx2EdkYN.js";function y({application:s,stages:d}){const n=t=>t==="Комплексная"?"bg-purple-100 text-purple-800 border-purple-200":"bg-green-100 text-green-800 border-green-200",x=t=>({"Подача заявки":"text-blue-600","Проверка документов":"text-blue-600","Проведение ОТЗ":"text-blue-600","Рассмотрение комиссиями":"text-orange-600","Бюджетное одобрение":"text-orange-600","Формирование тарифов":"text-green-600"})[t]||"text-gray-600",c=t=>{const a=d.indexOf(s.current_stage),r=d.indexOf(t);return r<a?"completed":r===a?"current":"pending"},m=t=>{switch(t){case"completed":return e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})});case"current":return e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("circle",{cx:"10",cy:"10",r:"5"})});case"pending":return e.jsx("svg",{className:"w-5 h-5 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});default:return null}};return e.jsxs(h,{children:[e.jsx(g,{title:`Заявка ОТЗ: ${s.application_id}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Заявка ОТЗ: ",s.application_id]}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.title})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{href:route("admin.otz-applications.edit",s.id),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-md transition-colors",children:"Редактировать"}),e.jsx(l,{href:route("admin.otz-applications.index"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md transition-colors",children:"Назад к списку"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Прогресс по этапам"}),e.jsx("div",{className:"space-y-3",children:d.map((t,a)=>{const r=c(t);return e.jsxs("div",{className:"flex items-center space-x-3",children:[m(r),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`text-sm font-medium ${r==="completed"?"text-green-600":r==="current"?"text-blue-600":"text-gray-500"}`,children:t}),r==="completed"&&e.jsx("span",{className:"text-xs text-green-600",children:"Завершен"}),r==="current"&&e.jsx("span",{className:"text-xs text-blue-600",children:"Текущий"})]}),r==="current"&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"50%"}})})]})]},t)})})]}),s.description&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Описание проекта"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),s.stage_progress&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Документы по этапам"}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.stage_progress).map(([t,a])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t}),a.documents&&a.documents.length>0?e.jsx("div",{className:"space-y-2",children:a.documents.map((r,i)=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-gray-700",children:r.name})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(r.uploaded_at).toLocaleDateString("ru-RU")})]},i))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Документы не загружены"})]},t))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Информация о заявке"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Категория:"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${n(s.category)}`,children:s.category})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Текущий этап:"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`text-sm font-medium ${x(s.current_stage)}`,children:s.current_stage})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Статус:"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.is_active?"Активна":"Неактивна"})})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Контактная информация"}),e.jsxs("div",{className:"space-y-3",children:[s.responsible_person&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ответственное лицо:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:s.responsible_person})]}),s.phone&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Телефон:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:s.phone})]}),s.email&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:s.email})]})]})]}),(s.stage_start_date||s.stage_end_date)&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Сроки текущего этапа"}),e.jsxs("div",{className:"space-y-3",children:[s.stage_start_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Дата начала:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(s.stage_start_date).toLocaleDateString("ru-RU")})]}),s.stage_end_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Дата окончания:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(s.stage_end_date).toLocaleDateString("ru-RU")})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Метаданные"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Дата создания:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(s.created_at).toLocaleDateString("ru-RU")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Последнее обновление:"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(s.updated_at).toLocaleDateString("ru-RU")})]})]})]})]})]})]})})})})]})}export{y as default};

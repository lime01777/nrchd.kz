import{W as v,j as e,a as i}from"./app-glZY-ooV.js";import{A as j}from"./AdminLayout-JnYhYcRt.js";import{I as t}from"./InputLabel-Cc4xpFEj.js";import{T as n,I as d}from"./TextInput-C4tmJj9M.js";import{P as g}from"./PrimaryButton-DoSdYkSC.js";import"./transition-BowJ8RkM.js";import"./use-is-mounted-Cgx4sEEc.js";function C({item:s=null}){const{data:r,setData:l,post:u,put:p,processing:c,errors:o}=v({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",type:(s==null?void 0:s.type)||"",application_area:(s==null?void 0:s.application_area)||"",trl:(s==null?void 0:s.trl)||"",status:(s==null?void 0:s.status)||"",developer:(s==null?void 0:s.developer)||"",pilot_sites:(s==null?void 0:s.pilot_sites)||"",full_description:(s==null?void 0:s.full_description)||"",order:(s==null?void 0:s.order)||0,is_active:(s==null?void 0:s.is_active)??!0}),x=["Software","Hardware","Медицинское изделие","Сервис","Методика","Другое"],h=["Идея","Экспертиза","Пилот","Апробация","Внедрено"],m=a=>{a.preventDefault(),s?p(route("admin.medtech.registry.update",s.id)):u(route("admin.medtech.registry.store"))};return e.jsx(j,{title:s?"Редактировать запись реестра":"Создать запись реестра",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(i,{href:route("admin.medtech.registry"),className:"text-blue-600 hover:text-blue-800 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад к реестру технологий"]})}),e.jsxs("form",{onSubmit:m,className:"space-y-6 bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",value:"Название технологии/проекта *"}),e.jsx(n,{id:"name",type:"text",value:r.name,onChange:a=>l("name",a.target.value),className:"mt-1 block w-full",required:!0}),e.jsx(d,{message:o.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",value:"Краткое описание"}),e.jsx("textarea",{id:"description",value:r.description,onChange:a=>l("description",a.target.value),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",placeholder:"1-2 предложения для отображения в таблице"}),e.jsx(d,{message:o.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"full_description",value:"Полное описание"}),e.jsx("textarea",{id:"full_description",value:r.full_description,onChange:a=>l("full_description",a.target.value),rows:5,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",placeholder:"Полное описание для карточки технологии"}),e.jsx(d,{message:o.full_description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"type",value:"Тип технологии"}),e.jsxs("select",{id:"type",value:r.type,onChange:a=>l("type",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Выберите тип"}),x.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx(d,{message:o.type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"application_area",value:"Область применения"}),e.jsx(n,{id:"application_area",type:"text",value:r.application_area,onChange:a=>l("application_area",a.target.value),className:"mt-1 block w-full",placeholder:"кардиология, онкология и т.д."}),e.jsx(d,{message:o.application_area,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"trl",value:"TRL (1-9)"}),e.jsxs("select",{id:"trl",value:r.trl,onChange:a=>l("trl",a.target.value?parseInt(a.target.value):""),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Выберите TRL"}),[1,2,3,4,5,6,7,8,9].map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx(d,{message:o.trl,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"status",value:"Статус"}),e.jsxs("select",{id:"status",value:r.status,onChange:a=>l("status",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Выберите статус"}),h.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx(d,{message:o.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"developer",value:"Разработчик"}),e.jsx(n,{id:"developer",type:"text",value:r.developer,onChange:a=>l("developer",a.target.value),className:"mt-1 block w-full",placeholder:"Организация/команда"}),e.jsx(d,{message:o.developer,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"order",value:"Порядок сортировки"}),e.jsx(n,{id:"order",type:"number",value:r.order,onChange:a=>l("order",parseInt(a.target.value)||0),className:"mt-1 block w-full"})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"pilot_sites",value:"Пилотные площадки"}),e.jsx("textarea",{id:"pilot_sites",value:r.pilot_sites,onChange:a=>l("pilot_sites",a.target.value),rows:2,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",placeholder:"Краткое указание пилотных площадок"}),e.jsx(d,{message:o.pilot_sites,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:r.is_active,onChange:a=>l("is_active",a.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Активна"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(i,{href:route("admin.medtech.registry"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Отмена"}),e.jsx(g,{type:"submit",disabled:c,children:c?"Сохранение...":"Сохранить"})]})]})]})})})}export{C as default};

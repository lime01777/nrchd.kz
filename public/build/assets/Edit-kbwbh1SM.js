import{W as x,j as e,a as u}from"./app-DZGMX8i5.js";import{A as h}from"./AdminLayout-CnQAdJc2.js";import"./transition-CmRHOqTp.js";import"./use-is-mounted-CdG-c_Ph.js";function p({document:s=null}){const l=!!s,{data:i,setData:a,post:d,put:o,processing:n,errors:r}=x({title:(s==null?void 0:s.title)||"",category:(s==null?void 0:s.category)||"",description:(s==null?void 0:s.description)||"",file:null,currentFile:(s==null?void 0:s.file)||null}),c=t=>{t.preventDefault(),l?o(route("admin.documents.update",s.id)):d(route("admin.documents.store"))},m=[{id:"medical-education",name:"Медицинское образование"},{id:"human-resources",name:"Кадровые ресурсы"},{id:"drug-policy",name:"Лекарственная политика"},{id:"medical-science",name:"Медицинская наука"},{id:"medical-rating",name:"Рейтинг медицинских организаций"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Редактирование документа":"Добавление документа"}),e.jsxs(u,{href:route("admin.documents"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Назад к списку"]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("form",{onSubmit:c,children:[e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Название документа"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"title",id:"title",value:i.title,onChange:t=>a("title",t.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})}),r.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.title})]}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Категория"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"category",name:"category",value:i.category,onChange:t=>a("category",t.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Выберите категорию"}),m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})}),r.category&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.category})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Описание"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"description",name:"description",rows:4,value:i.description,onChange:t=>a("description",t.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),r.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700",children:"Файл"}),e.jsxs("div",{className:"mt-1",children:[l&&i.currentFile&&e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Текущий файл: ",i.currentFile]})}),e.jsx("div",{className:"max-w-lg flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Загрузить файл"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:t=>a("file",t.target.files[0])})]}),e.jsx("p",{className:"pl-1",children:"или перетащите сюда"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, XLSX до 10MB"})]})})]}),r.file&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.file})]})]})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:e.jsx("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Сохранение...":l?"Сохранить изменения":"Добавить документ"})})]})})]})}p.layout=s=>e.jsx(h,{title:s.props.document?"Редактирование документа":"Добавление документа",children:s});export{p as default};

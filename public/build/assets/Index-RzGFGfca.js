import{q as m,W as f,j as e,Y as w,a as g}from"./app-Dm17rRC_.js";import"./Footer-BifqJGpD.js";/* empty css             */import{L as j}from"./LayoutNews-CaByrlC7.js";import{N as v}from"./NewsImageSlider-CkOGj0hD.js";import{i as y}from"./mediaUtils-oRnee45q.js";const b=(t,n="")=>{var a,l;return((l=(a=window.__INERTIA_PROPS__)==null?void 0:a.translations)==null?void 0:l[t])||n};function N(){const{translations:t}=m().props,n=(s,r="")=>(t==null?void 0:t[s])||r,{news:a,categories:l,filters:o}=m().props,{data:i,setData:c,get:C,processing:u}=f({search:o.search||"",category:o.category||"all"}),x=s=>{s.preventDefaultComponent(),getComponent(route("news"),{preserveState:!0,preserveScroll:!0})},p=s=>{c("category",s),getComponent(route("news"),{preserveState:!0,preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:n("news","Новости"),meta:[{name:"description",content:"Последние новости Национального научного центра развития здравоохранения."}]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("form",{onSubmit:x,className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Поиск новостей...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:i.search,onChange:s=>c("search",s.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:u,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsx("div",{children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:i.category,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"all",children:"Все категории"}),l.map((s,r)=>e.jsx("option",{value:s,children:s},r))]})})]})}),a.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Новости не найдены"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Попробуйте изменить параметры поиска или фильтрации"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.data.map(s=>{const r=[];s.images&&Array.isArray(s.images)&&s.images.length>0?r.push(...s.images):s.image&&r.push(s.image);const d=r.filter(h=>typeof h=="string"?!y(h):!0);return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[d.length>0&&e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx(v,{images:d,className:"h-48",height:"192px",showDots:r.length>1,showCounter:!1,autoPlay:!0,interval:4e3,alt:s.title})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-600",children:[e.jsx("span",{children:new Date(s.publish_date).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:s.category})]}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 line-clamp-2",children:s.title}),e.jsxs("p",{className:"text-gray-600 mb-4 line-clamp-3",children:[s.content.replace(/<[^>]*>/g,"").substring(0,150),"..."]}),e.jsxs(g,{href:route("news.show",s.slug),className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:["Читать далее",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},s.id)})}),a.data.length>0&&e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsx("nav",{className:"flex items-center space-x-2",children:a.links.map((s,r)=>e.jsx(g,{href:s.url,className:`px-4 py-2 rounded-md ${s.active?"bg-blue-500 text-white":s.url?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,preserveScroll:!0,dangerouslySetInnerHTML:{__html:s.label}},r))})})]})]})}N.layout=t=>e.jsx(j,{img:"news",h1:b("news","Новости"),children:t});export{N as default};

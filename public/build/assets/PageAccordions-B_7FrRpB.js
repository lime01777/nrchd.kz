import{r as n,q as g,j as s,b as h}from"./app-Ba3ktX9C.js";import{F as x}from"./FilesAccord-_qRUUr1O.js";function y({bgColor:u}){const[c,a]=n.useState([]),[d,o]=n.useState(!0),[i,p]=n.useState(null),{url:l}=g(),f=()=>{const e=l.split("?")[0];console.log("Current path:",e);const t={"/medical-education":"medical.education","/human-resources":"human.resources","/science":"science","/international-cooperation":"international.cooperation","/press-center":"press.center"};if(e.includes("medical-education"))return console.log("Detected medical education page, using route: medical.education"),"medical.education";if(t[e])return t[e];for(const[r,m]of Object.entries(t))if(e.includes(r))return m;return console.log("No route found for path:",e),""};return n.useEffect(()=>{(async()=>{try{o(!0);const t=f();if(console.log("Fetching accordions for route:",t),!t){a([]),o(!1);return}const r=await h.get(`${window.location.origin}/api/accordions-for-page`,{params:{page_route:t}});console.log("Accordions data:",r.data),a(r.data),o(!1)}catch(t){console.error("Ошибка при загрузке аккордеонов:",t),p("Не удалось загрузить аккордеоны для этой страницы"),o(!1)}})()},[l]),d?s.jsx("div",{className:"text-center py-4",children:"Загрузка аккордеонов..."}):i?s.jsx("div",{className:"text-center py-4 text-red-500",children:i}):c.length===0?null:s.jsx("div",{className:"container px-5 py-8 mx-auto",children:c.map(e=>s.jsx(x,{title:e.title,folder:e.folder_path,bgColor:u||e.bg_color,name:e.name},e.id))})}export{y as P};

import{W as u,j as e,a as h}from"./app-Dx0pQLKn.js";import{A as p}from"./AdminLayout-Dtb4iCn7.js";import"./transition-Dabao_dA.js";import"./use-is-mounted-DzbNDF9D.js";function f({user:s=null,availableRoles:i={}}){const t=!!s,{data:l,setData:o,post:n,put:d,processing:m,errors:r}=u({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",role:(s==null?void 0:s.role)||"user",password:"",password_confirmation:""}),c=a=>{a.preventDefault(),t?d(route("admin.admin.users.update",s.id)):n(route("admin.admin.users.store"))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Редактирование пользователя":"Добавление пользователя"}),e.jsxs(h,{href:route("admin.admin.users"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Назад к списку"]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("form",{onSubmit:c,children:[e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Имя пользователя"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"name",id:"name",value:l.name,onChange:a=>o("name",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})}),r.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"email",value:l.email,onChange:a=>o("email",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Роль"}),e.jsx("div",{className:"mt-1",children:e.jsx("select",{id:"role",name:"role",value:l.role,onChange:a=>o("role",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:Object.entries(i).map(([a,x])=>e.jsx("option",{value:a,children:x},a))})}),r.role&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.role})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:t?"Новый пароль (оставьте пустым, чтобы не менять)":"Пароль"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"password",id:"password",value:l.password,onChange:a=>o("password",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!t})}),r.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"Подтверждение пароля"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"password_confirmation",id:"password_confirmation",value:l.password_confirmation,onChange:a=>o("password_confirmation",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!t})}),r.password_confirmation&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password_confirmation})]})]})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:e.jsx("button",{type:"submit",disabled:m,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:m?"Сохранение...":t?"Сохранить изменения":"Добавить пользователя"})})]})})]})}f.layout=s=>e.jsx(p,{title:s.props.user?"Редактирование пользователя":"Добавление пользователя",children:s});export{f as default};

import{W as x,j as e,Y as u,a as i}from"./app-BWXe1viQ.js";import{A as g}from"./AdminLayout-DxTDrY_C.js";import"./transition-tseb-M3H.js";import"./use-is-mounted-C9GyKz0v.js";function j({application:r,categories:n,stages:o}){const{data:a,setData:d,put:c,processing:l,errors:t}=x({title:r.title||"",category:r.category||"",current_stage:r.current_stage||"",description:r.description||"",responsible_person:r.responsible_person||"",phone:r.phone||"",email:r.email||"",stage_start_date:r.stage_start_date||"",stage_end_date:r.stage_end_date||"",is_active:r.is_active!==void 0?r.is_active:!0}),m=s=>{s.preventDefault(),c(route("admin.otz-applications.update",r.id))};return e.jsxs(g,{children:[e.jsx(u,{title:"Редактирование заявки ОТЗ"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Редактирование заявки ОТЗ"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["ID: ",r.application_id]})]}),e.jsx(i,{href:route("admin.otz-applications.index"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md transition-colors",children:"Назад к списку"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Основная информация"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Название проекта *"}),e.jsx("input",{type:"text",value:a.title,onChange:s=>d("title",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.title?"border-red-500":"border-gray-300"}`,placeholder:"Введите название проекта"}),t.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Категория *"}),e.jsxs("select",{value:a.category,onChange:s=>d("category",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.category?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Выберите категорию"}),n.map(s=>e.jsx("option",{value:s,children:s},s))]}),t.category&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Текущий этап *"}),e.jsxs("select",{value:a.current_stage,onChange:s=>d("current_stage",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.current_stage?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Выберите этап"}),o.map(s=>e.jsx("option",{value:s,children:s},s))]}),t.current_stage&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.current_stage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Статус"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.is_active,onChange:s=>d("is_active",s.target.checked),className:"h-4 w-4 text-fuchsia-600 focus:ring-fuchsia-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Активная заявка"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Описание проекта"}),e.jsx("textarea",{value:a.description,onChange:s=>d("description",s.target.value),rows:4,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.description?"border-red-500":"border-gray-300"}`,placeholder:"Введите описание проекта"}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.description})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Контактная информация"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ответственное лицо"}),e.jsx("input",{type:"text",value:a.responsible_person,onChange:s=>d("responsible_person",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.responsible_person?"border-red-500":"border-gray-300"}`,placeholder:"ФИО ответственного лица"}),t.responsible_person&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.responsible_person})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Телефон"}),e.jsx("input",{type:"tel",value:a.phone,onChange:s=>d("phone",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.phone?"border-red-500":"border-gray-300"}`,placeholder:"+7 (XXX) XXX-XX-XX"}),t.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>d("email",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.email?"border-red-500":"border-gray-300"}`,placeholder:"example@email.com"}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Сроки текущего этапа"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Дата начала этапа"}),e.jsx("input",{type:"date",value:a.stage_start_date,onChange:s=>d("stage_start_date",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.stage_start_date?"border-red-500":"border-gray-300"}`}),t.stage_start_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.stage_start_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Дата окончания этапа"}),e.jsx("input",{type:"date",value:a.stage_end_date,onChange:s=>d("stage_end_date",s.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-fuchsia-500 ${t.stage_end_date?"border-red-500":"border-gray-300"}`}),t.stage_end_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.stage_end_date})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(i,{href:route("admin.otz-applications.index"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Отмена"}),e.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-fuchsia-500 text-white rounded-md hover:bg-fuchsia-600 transition-colors disabled:opacity-50",children:l?"Сохранение...":"Сохранить изменения"})]})]})]})})})})]})}export{j as default};

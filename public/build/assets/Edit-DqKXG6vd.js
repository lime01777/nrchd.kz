import{W as c,j as e,a as u}from"./app-B2OOdeSW.js";import{A as x}from"./AdminLayout-JmfjIwL1.js";import"./transition-CNoJHPCN.js";import"./use-is-mounted-DrarYdhR.js";function h({user:s=null}){const l=!!s,{data:r,setData:o,post:d,put:n,processing:m,errors:t}=c({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",role:(s==null?void 0:s.role)||"Пользователь",password:"",password_confirmation:"",status:(s==null?void 0:s.status)||"Активен"}),i=a=>{a.preventDefault(),l?n(route("admin.users.update",s.id)):d(route("admin.users.store"))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Редактирование пользователя":"Добавление пользователя"}),e.jsxs(u,{href:route("admin.users"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Назад к списку"]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Имя пользователя"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:a=>o("name",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})}),t.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.name})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"email",value:r.email,onChange:a=>o("email",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})}),t.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Роль"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"role",name:"role",value:r.role,onChange:a=>o("role",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"Администратор",children:"Администратор"}),e.jsx("option",{value:"Модератор",children:"Модератор"}),e.jsx("option",{value:"Редактор",children:"Редактор"}),e.jsx("option",{value:"Пользователь",children:"Пользователь"})]})}),t.role&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.role})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Статус"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"status",name:"status",value:r.status,onChange:a=>o("status",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"Активен",children:"Активен"}),e.jsx("option",{value:"Неактивен",children:"Неактивен"})]})}),t.status&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.status})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:l?"Новый пароль (оставьте пустым, чтобы не менять)":"Пароль"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"password",id:"password",value:r.password,onChange:a=>o("password",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!l})}),t.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"Подтверждение пароля"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"password_confirmation",id:"password_confirmation",value:r.password_confirmation,onChange:a=>o("password_confirmation",a.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!l})}),t.password_confirmation&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.password_confirmation})]})]})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:e.jsx("button",{type:"submit",disabled:m,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:m?"Сохранение...":l?"Сохранить изменения":"Добавить пользователя"})})]})})]})}h.layout=s=>e.jsx(x,{title:s.props.user?"Редактирование пользователя":"Добавление пользователя",children:s});export{h as default};

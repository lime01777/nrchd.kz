import{j as e,a,y as m}from"./app-DCeGJZAK.js";import{A as c}from"./AdminLayout-Dh05zd8r.js";import"./transition-BmdhvgT-.js";import"./use-is-mounted-DJjEYAC8.js";function p({news:t,filters:r}){const l=s=>{confirm("Вы уверены, что хотите удалить эту новость?")&&m.delete(route("admin.news.destroy",s))},o=s=>{switch(s){case"Опубликовано":return"bg-green-100 text-green-800";case"Черновик":return"bg-gray-100 text-gray-800";case"Запланировано":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},n=s=>s?new Date(s).toLocaleDateString("ru-RU"):"-",i=(s,d=100)=>s?s.length<=d?s:s.substring(0,d)+"...":"";return e.jsx(c,{children:e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Новости"}),e.jsxs(a,{href:route("admin.news.create"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Создать новость"]})]}),e.jsx("div",{className:"mb-6 bg-white shadow rounded-lg p-4",children:e.jsxs("form",{method:"get",className:"flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Поиск"}),e.jsx("input",{type:"text",name:"search",id:"search",defaultValue:(r==null?void 0:r.search)||"",placeholder:"Поиск по заголовку или содержимому...",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Статус"}),e.jsxs("select",{name:"status",id:"status",defaultValue:(r==null?void 0:r.status)||"",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Все статусы"}),e.jsx("option",{value:"Черновик",children:"Черновик"}),e.jsx("option",{value:"Опубликовано",children:"Опубликовано"}),e.jsx("option",{value:"Запланировано",children:"Запланировано"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Применить"}),e.jsx(a,{href:route("admin.news"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Сбросить"})]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Новости не найдены"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r!=null&&r.search||r!=null&&r.status?"Попробуйте изменить фильтры.":"Начните с создания первой новости."}),!(r!=null&&r.search)&&!(r!=null&&r.status)&&e.jsx("div",{className:"mt-6",children:e.jsxs(a,{href:route("admin.news.create"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Создать новость"]})})]}):e.jsx("ul",{className:"divide-y divide-gray-200",children:t.data.map(s=>e.jsx("li",{className:"px-6 py-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(s.status)}`,children:s.status}),e.jsx("span",{className:"text-sm text-gray-500",children:n(s.created_at)})]})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:i(s.content)}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Категории: ",Array.isArray(s.category)?s.category.join(", "):s.category]}),s.images&&s.images.length>0&&e.jsxs("span",{children:["Изображений: ",s.images.length]}),s.publish_date&&e.jsxs("span",{children:["Публикация: ",n(s.publish_date)]})]})]}),e.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[e.jsxs(a,{href:route("admin.news.edit",s.id),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Редактировать"]}),e.jsxs("button",{onClick:()=>l(s.id),className:"inline-flex items-center px-3 py-1 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Удалить"]})]})]})},s.id))})}),t.data.length>0&&t.last_page>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Показано ",t.from," - ",t.to," из ",t.total," результатов"]}),e.jsxs("div",{className:"flex space-x-2",children:[t.prev_page_url&&e.jsx(a,{href:t.prev_page_url,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Назад"}),t.next_page_url&&e.jsx(a,{href:t.next_page_url,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Вперед"})]})]})]})})})}export{p as default};

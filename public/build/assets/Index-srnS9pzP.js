import{q as u,W as f,j as s,Y as y,a as p}from"./app-CYo44y_y.js";/* empty css             */import{L as j}from"./LayoutNews-DSSzyO8a.js";import{N as v}from"./NewsImageSlider-CsIB2lRc.js";import{i as w}from"./mediaUtils-oRnee45q.js";import"./Footer-BGmIwPIY.js";const b=(a,o="")=>{var l,n;return((n=(l=window.__INERTIA_PROPS__)==null?void 0:l.translations)==null?void 0:n[a])||o};function N(){const{translations:a}=u().props,o=(e,t="")=>(a==null?void 0:a[e])||t,{news:l,categories:n,filters:i}=u().props,{data:c,setData:d,get:C,processing:x}=f({search:i.search||"",category:i.category||"all"}),g=e=>{e.preventDefaultComponent(),getComponent(route("news"),{preserveState:!0,preserveScroll:!0})},m=e=>{d("category",e),getComponent(route("news"),{preserveState:!0,preserveScroll:!0})};return s.jsxs(s.Fragment,{children:[s.jsx(y,{title:o("news","Новости"),meta:[{name:"description",content:"Последние новости Национального научного центра развития здравоохранения."}]}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("form",{onSubmit:g,className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-grow",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Поиск новостей...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:c.search,onChange:e=>d("search",e.target.value)}),s.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x,children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),s.jsx("div",{children:s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:c.category,onChange:e=>m(e.target.value),children:[s.jsx("option",{value:"all",children:"Все категории"}),n.map((e,t)=>s.jsx("option",{value:e,children:e},t))]})})]})}),l.data.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Новости не найдены"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Попробуйте изменить параметры поиска или фильтрации"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.data.map(e=>{const t=[];if(e.images)try{if(typeof e.images=="string"){const r=JSON.parse(e.images);Array.isArray(r)&&t.push(...r)}else Array.isArray(e.images)&&t.push(...e.images)}catch(r){console.error("Error parsing images:",r,e.images)}e.image&&t.push(e.image);const h=t.filter(r=>typeof r=="string"?!w(r):typeof r=="object"&&r.type?r.type==="image":!0).map(r=>typeof r=="object"&&r.path?r.path:r);return s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[h.length>0&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx(v,{images:h,className:"h-48",height:"192px",showDots:t.length>1,showCounter:!1,autoPlay:!0,interval:4e3,alt:e.title})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-600",children:[s.jsx("span",{children:new Date(e.publish_date).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e.category})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 line-clamp-2",children:e.title}),s.jsxs("p",{className:"text-gray-600 mb-4 line-clamp-3",children:[e.content.replace(/<[^>]*>/g,"").substring(0,150),"..."]}),s.jsxs(p,{href:route("news.show",e.slug),className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:["Читать далее",s.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},e.id)})}),l.data.length>0&&s.jsx("div",{className:"mt-12 flex justify-center",children:s.jsx("nav",{className:"flex items-center space-x-2",children:l.links.map((e,t)=>s.jsx(p,{href:e.url,className:`px-4 py-2 rounded-md ${e.active?"bg-blue-500 text-white":e.url?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,preserveScroll:!0,children:e.label==="&laquo; Previous"?"‹":e.label==="Next &raquo;"?"›":e.label==="pagination.previous"?"‹":e.label==="pagination.next"?"›":e.label},t))})})]})]})}N.layout=a=>s.jsx(j,{img:"news",h1:b("news","Новости"),children:a});export{N as default};

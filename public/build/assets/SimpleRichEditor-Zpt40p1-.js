import{r as p,j as e}from"./app-yYR0FjU0.js";function m({images:s,setImages:l,mainImage:i,setMainImage:c,max:u=18}){const o=p.useRef(),b=t=>{t.preventDefault();const r=Array.from(t.dataTransfer.files).filter(a=>a.type.startsWith("image/"));r.length&&n(r)},h=t=>{const r=Array.from(t.target.files).filter(a=>a.type.startsWith("image/"));r.length&&n(r)},n=t=>{const r=t.slice(0,u-s.length);l([...s,...r]),!i&&r.length>0&&c(r[0])},g=t=>{const r=s.filter((a,d)=>d!==t);l(r),i===s[t]&&c(r[0]||null)},f=t=>{c(t)};return e.jsxs("div",{children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition cursor-pointer mb-4",onDrop:b,onDragOver:t=>t.preventDefault(),onClick:()=>o.current.click(),style:{minHeight:"120px"},children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"h-10 w-10 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("span",{className:"text-blue-600 font-medium cursor-pointer",children:["Перетащите или выберите до ",u," изображений"]}),e.jsx("span",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF, WEBP"})]}),e.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:h})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:s.map((t,r)=>{const a=typeof t=="string"?t:URL.createObjectURL(t);return e.jsxs("div",{className:"relative group border rounded-lg overflow-hidden shadow bg-white",children:[e.jsx("img",{src:a,alt:typeof t=="string"?"Загруженное":t.name,className:"w-full h-32 object-cover"}),e.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white bg-opacity-80 rounded-full p-1 shadow hover:bg-red-100 transition",title:"Удалить изображение",onClick:d=>{d.stopPropagation(),g(r)},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("button",{type:"button",className:`absolute bottom-1 left-1 bg-white bg-opacity-80 rounded-full p-1 shadow hover:bg-yellow-100 transition ${i===t?"ring-2 ring-yellow-400":""}`,title:"Сделать главным",onClick:d=>{d.stopPropagation(),f(t)},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:i===t?"gold":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 17.75L18.2 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.44 4.73L5.8 21z"})})})]},r)})})]})}const y=({value:s="",onChange:l,placeholder:i="Введите текст...",className:c="",minHeight:u="180px"})=>{const o=p.useRef(null),[b,h]=p.useState(!1);p.useEffect(()=>{o.current&&o.current.innerHTML!==s&&(o.current.innerHTML=s)},[s]);const n=(f,t=null)=>{document.execCommand(f,!1,t),o.current&&l&&l(o.current.innerHTML),o.current.focus()},g=()=>{l&&o.current&&l(o.current.innerHTML)};return e.jsxs("div",{className:"simple-editor-container",children:[e.jsxs("div",{className:"simple-editor-toolbar flex gap-1 p-2 border-b border-gray-200 bg-gray-50 rounded-t",children:[e.jsx("button",{type:"button",onClick:()=>n("bold"),className:"p-1 hover:bg-gray-200 rounded",title:"Полужирный",children:e.jsx("strong",{children:"Ж"})}),e.jsx("button",{type:"button",onClick:()=>n("italic"),className:"p-1 hover:bg-gray-200 rounded",title:"Курсив",children:e.jsx("em",{children:"К"})}),e.jsx("button",{type:"button",onClick:()=>n("underline"),className:"p-1 hover:bg-gray-200 rounded",title:"Подчеркнутый",children:e.jsx("u",{children:"Ч"})}),e.jsx("div",{className:"mx-2 border-r border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>n("insertUnorderedList"),className:"p-1 hover:bg-gray-200 rounded",title:"Маркированный список",children:"• Список"}),e.jsx("button",{type:"button",onClick:()=>n("insertOrderedList"),className:"p-1 hover:bg-gray-200 rounded",title:"Нумерованный список",children:"1. Список"}),e.jsx("div",{className:"mx-2 border-r border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>n("formatBlock","h2"),className:"p-1 hover:bg-gray-200 rounded",title:"Заголовок",children:"H2"}),e.jsx("button",{type:"button",onClick:()=>n("formatBlock","h3"),className:"p-1 hover:bg-gray-200 rounded",title:"Подзаголовок",children:"H3"}),e.jsx("button",{type:"button",onClick:()=>n("formatBlock","p"),className:"p-1 hover:bg-gray-200 rounded",title:"Параграф",children:"P"})]}),e.jsx("div",{ref:o,contentEditable:!0,className:`w-full p-3 bg-white border border-gray-300 rounded-b outline-none ${b?"border-blue-400 ring-2 ring-blue-100":""} ${c}`,style:{minHeight:u},onInput:g,onFocus:()=>h(!0),onBlur:()=>h(!1),placeholder:i,"data-placeholder":i,dangerouslySetInnerHTML:{__html:s}}),e.jsx("style",{children:`
        [contenteditable]:empty:before {
          content: attr(data-placeholder);
          color: #9ca3af;
          font-style: italic;
        }
      `})]})};export{m as I,y as S};

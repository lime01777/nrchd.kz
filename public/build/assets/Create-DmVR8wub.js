import{W as h,j as e}from"./app-JJnr8YSF.js";import{A as j}from"./AdminLayout-CuZZIOFa.js";import{I as r,T as o}from"./TextInput-DtE9Mweh.js";import{I as i}from"./InputLabel-DmhSWHC7.js";import{C as g}from"./Checkbox-fx9fo0aI.js";import{P as p}from"./PrimaryButton-D6ZImSit.js";import"./transition-CDEwSAK-.js";import"./use-is-mounted-ADJvFua_.js";function f({categories:d}){const{data:l,setData:a,post:c,processing:n,errors:t,progress:m}=h({category_id:"",description:"",file:null,order:0,is_active:!0}),u=s=>{s.preventDefault(),c(route("admin.documents.store"))},x=s=>{a("file",s.target.files[0])};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Загрузка документа"})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("form",{onSubmit:u,className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"category_id",value:"Категория"}),e.jsxs("select",{id:"category_id",name:"category_id",value:l.category_id,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:s=>a("category_id",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Выберите категорию"}),d.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]}),e.jsx(r,{message:t.category_id,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"description",value:"Описание"}),e.jsx(o,{id:"description",type:"text",name:"description",value:l.description,className:"mt-1 block w-full",onChange:s=>a("description",s.target.value),required:!0}),e.jsx(r,{message:t.description,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"file",value:"Файл"}),e.jsx("input",{id:"file",type:"file",name:"file",className:"mt-1 block w-full border p-2 rounded-md",onChange:x,required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Поддерживаемые форматы: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX"}),e.jsx(r,{message:t.file,className:"mt-2"}),m&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${m.percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.percentage,"% загружено"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"order",value:"Порядок"}),e.jsx(o,{id:"order",type:"number",name:"order",value:l.order,className:"mt-1 block w-full",onChange:s=>a("order",s.target.value)}),e.jsx(r,{message:t.order,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx(g,{name:"is_active",checked:l.is_active,onChange:s=>a("is_active",s.target.checked)}),e.jsx(i,{htmlFor:"is_active",value:"Активно",className:"ml-2"}),e.jsx(r,{message:t.is_active,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(p,{className:"ml-4",disabled:n,children:"Загрузить"})})]})})]})}f.layout=d=>e.jsx(j,{title:"Загрузка документа",children:d});export{f as default};

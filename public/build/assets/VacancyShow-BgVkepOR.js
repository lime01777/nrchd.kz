import{q as i,W as N,j as e,Y as y,b as f}from"./app-B885_QiX.js";import{L as v}from"./LayoutFolderChlank-CECxvP1V.js";import"./Footer-DHBUyqXZ.js";import"./TranslationService-CKsrIfHs.js";function w({vacancy:t}){i().props;const{data:o,setData:n,post:p,processing:a,errors:r,reset:u}=N({name:"",email:"",phone:"",resume:null,cover_letter:""}),b=s=>{const d=new Date(s),l=d.getDate(),m=d.toLocaleString("ru-RU",{month:"long"}),x=d.getFullYear();return`${l} ${m} ${x} года`},g=s=>{s.preventDefault(),p(route("vacancy.apply",t.slug),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{u()}})},j=s=>{const d=Array.isArray(s)?s:(s==null?void 0:s.blocks)||[];return!d||!d.length?e.jsx("p",{children:"Информация отсутствует"}):d.map((l,m)=>{switch(l.type){case"header":const x=`h${l.data.level}`;return e.jsx(x,{className:"text-gray-900 font-semibold my-3",children:l.data.text},m);case"paragraph":return e.jsx("p",{className:"my-2 text-gray-700",children:l.data.text},m);case"list":return l.data.style==="unordered"?e.jsx("ul",{className:"list-disc ml-6 my-3",children:l.data.items.map((c,h)=>e.jsx("li",{className:"text-gray-700 my-1",children:c},h))},m):e.jsx("ol",{className:"list-decimal ml-6 my-3",children:l.data.items.map((c,h)=>e.jsx("li",{className:"text-gray-700 my-1",children:c},h))},m);default:return e.jsx("div",{children:l.data.text||JSON.stringify(l.data)},m)}})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:t.title}),e.jsx("div",{className:"bg-pink-50 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(f,{href:route("vacancy.jobs"),className:"inline-flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[e.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Вакансии"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:t.published_at&&b(t.published_at)}),t.excerpt&&e.jsx("div",{className:"text-lg text-gray-800 mb-6",children:t.excerpt})]})}),e.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-xl mb-2",children:"Департамент"}),e.jsx("p",{children:t.department})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-xl mb-2",children:"Место работы"}),e.jsx("p",{children:t.city})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-xl mb-2",children:"Тип занятости"}),e.jsx("p",{children:t.employment_type})]}),e.jsx("div",{className:"vacancy-content",children:t.body&&j(t.body)})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h2",{className:"font-semibold text-xl mb-4",children:"Откликнуться на вакансию"}),i().props.flash&&i().props.flash.success&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:i().props.flash.success}),i().props.flash&&i().props.flash.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i().props.flash.error}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ваше имя *"}),e.jsx("input",{type:"text",name:"name",value:o.name,onChange:s=>n("name",s.target.value),className:`w-full px-3 py-2 border ${r.name?"border-red-500":"border-gray-300"} rounded-md`,placeholder:"Введите ваше имя",required:!0,disabled:a}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Электронная почта *"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:s=>n("email",s.target.value),className:`w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} rounded-md`,placeholder:"example@email.com",required:!0,disabled:a}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Телефон *"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:s=>n("phone",s.target.value),className:`w-full px-3 py-2 border ${r.phone?"border-red-500":"border-gray-300"} rounded-md`,placeholder:"+7 (xxx) xxx-xx-xx",required:!0,disabled:a}),r.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.phone})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Резюме (PDF, DOC, DOCX) *"}),e.jsx("input",{type:"file",name:"resume",id:"resume-file",className:"hidden",accept:".pdf,.doc,.docx",required:!0,disabled:a,onChange:s=>{s.target.files&&s.target.files[0]&&n("resume",s.target.files[0])}}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("label",{htmlFor:"resume-file",className:`
                                        cursor-pointer flex items-center space-x-2 px-4 py-2 rounded-md
                                        bg-yellow-100 hover:bg-yellow-200 text-green-700 border border-yellow-300
                                        transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-500
                                        ${r.resume?"border-red-500 bg-red-50":""}
                                        ${a?"opacity-50 cursor-not-allowed":""}
                                    `,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),e.jsx("span",{children:"Прикрепить резюме"})]}),o.resume&&e.jsxs("span",{className:"text-sm text-green-600 truncate max-w-xs",children:["✓ ",o.resume.name]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Максимальный размер файла: 5MB"}),r.resume&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.resume})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Сопроводительное письмо"}),e.jsx("textarea",{name:"cover_letter",value:o.cover_letter,onChange:s=>n("cover_letter",s.target.value),className:`w-full px-3 py-2 border ${r.cover_letter?"border-red-500":"border-gray-300"} rounded-md`,rows:"4",placeholder:"Расскажите немного о себе и почему вы хотите работать с нами",disabled:a}),r.cover_letter&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.cover_letter})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:a,children:a?"Отправка...":"Отправить заявку"})]})]})]})})]})}w.layout=t=>e.jsx(v,{bgColor:"bg-white",h1:"Вакансия",children:t,useVideo:!0});export{w as default};

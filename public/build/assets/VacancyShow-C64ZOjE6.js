import{q as o,r as N,W as y,j as e,Y as f,b as v}from"./app-CZOK16ls.js";import{L as w}from"./LayoutFolderChlank-CJ7b4w7o.js";import"./Footer-aENe6JCY.js";import"./TranslationService-BITGx9l6.js";function C({vacancy:t}){o().props;const[_,x]=N.useState(!1),{data:m,setData:n,post:p,processing:a,errors:r,reset:u}=y({name:"",email:"",phone:"",resume:null,cover_letter:""}),b=s=>{const l=new Date(s),d=l.getDate(),c=l.toLocaleString("ru-RU",{month:"long"}),i=l.getFullYear();return`${d} ${c} ${i} года`},g=s=>{s.preventDefault(),x(!0),p(route("vacancy.apply",t.slug),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{u(),x(!1)},onError:()=>{x(!1)}})},j=s=>!s||!Array.isArray(s.blocks)?null:s.blocks.map((l,d)=>{switch(l.type){case"header":const c=`h${l.data.level}`;return e.jsx(c,{className:"text-gray-900 font-semibold my-3",children:l.data.text},d);case"paragraph":return e.jsx("p",{className:"my-2 text-gray-700",children:l.data.text},d);case"list":return l.data.style==="unordered"?e.jsx("ul",{className:"list-disc ml-6 my-3",children:l.data.items.map((i,h)=>e.jsx("li",{className:"text-gray-700 my-1",children:i},h))},d):e.jsx("ol",{className:"list-decimal ml-6 my-3",children:l.data.items.map((i,h)=>e.jsx("li",{className:"text-gray-700 my-1",children:i},h))},d);default:return e.jsx("div",{children:l.data.text},d)}});return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:t.title}),e.jsx("div",{className:"bg-pink-50 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(v,{href:route("vacancy.jobs"),className:"inline-flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[e.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Вакансии"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:t.published_at&&b(t.published_at)}),t.excerpt&&e.jsx("div",{className:"text-lg text-gray-800 mb-6",children:t.excerpt})]})}),e.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-xl mb-2",children:"Департамент"}),e.jsx("p",{children:t.department})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-xl mb-2",children:"Место работы"}),e.jsx("p",{children:t.city})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-xl mb-2",children:"Тип занятости"}),e.jsx("p",{children:t.employment_type})]}),e.jsx("div",{className:"vacancy-content",children:t.body&&j(t.body)})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h2",{className:"font-semibold text-xl mb-4",children:"Откликнуться на вакансию"}),o().props.flash.success&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:o().props.flash.success}),o().props.flash.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:o().props.flash.error}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ваше имя *"}),e.jsx("input",{type:"text",name:"name",value:m.name,onChange:s=>n("name",s.target.value),className:`w-full px-3 py-2 border ${r.name?"border-red-500":"border-gray-300"} rounded-md`,placeholder:"Введите ваше имя",required:!0,disabled:a}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Электронная почта *"}),e.jsx("input",{type:"email",name:"email",value:m.email,onChange:s=>n("email",s.target.value),className:`w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} rounded-md`,placeholder:"example@email.com",required:!0,disabled:a}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Телефон *"}),e.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:s=>n("phone",s.target.value),className:`w-full px-3 py-2 border ${r.phone?"border-red-500":"border-gray-300"} rounded-md`,placeholder:"+7 (xxx) xxx-xx-xx",required:!0,disabled:a}),r.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.phone})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Резюме (PDF, DOC, DOCX) *"}),e.jsx("input",{type:"file",name:"resume",onChange:s=>n("resume",s.target.files[0]),className:`w-full ${r.resume?"border-red-500":""}`,accept:".pdf,.doc,.docx",required:!0,disabled:a}),m.resume&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Выбран файл: ",m.resume.name]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Максимальный размер файла: 5MB"}),r.resume&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.resume})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Сопроводительное письмо"}),e.jsx("textarea",{name:"cover_letter",value:m.cover_letter,onChange:s=>n("cover_letter",s.target.value),className:`w-full px-3 py-2 border ${r.cover_letter?"border-red-500":"border-gray-300"} rounded-md`,rows:"4",placeholder:"Расскажите немного о себе и почему вы хотите работать с нами",disabled:a}),r.cover_letter&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.cover_letter})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:a,children:a?"Отправка...":"Отправить заявку"})]})]})]})})]})}C.layout=t=>e.jsx(w,{bgColor:"bg-red-200",h1:"Вакансия",children:t,useVideo:!0});export{C as default};

import{r as p,j as e}from"./app-Be9c_AKX.js";import{S as g}from"./SafeImage-DuzHGd1g.js";function v({onSelect:r,selectedMedia:n=[],maxFiles:x=10,className:o=""}){const[i,a]=p.useState(!1),c=[{name:"placeholder.jpg",path:"/img/news/placeholder.jpg",size:"305 байт",type:"image"},{name:"1700550154_pictures-pibig-info-p-gerb-kazakhstana-risunok-krasivo-67.jpg",path:"/img/news/1700550154_pictures-pibig-info-p-gerb-kazakhstana-risunok-krasivo-67.jpg",size:"269 KB",type:"image"},{name:"3HKPGskY-wallha.com.png",path:"/img/news/3HKPGskY-wallha.com.png",size:"8.4 MB",type:"image"},{name:"mlPAlHD6wpdfvaksa4KgiaqUnrfz6Uez0kTC4IZS.jpg",path:"/img/news/mlPAlHD6wpdfvaksa4KgiaqUnrfz6Uez0kTC4IZS.jpg",size:"443 KB",type:"image"},{name:"placeholder-video.mp4",path:"/videos/news/placeholder-video.mp4",size:"1.2 KB",type:"video"}],d=s=>{r&&r(s),a(!1)},l=s=>n.some(t=>t.path===s.path||t===s.path),h=s=>s==="video"?"🎥":"🖼️";return e.jsxs("div",{className:o,children:[e.jsxs("button",{type:"button",onClick:()=>a(!i),className:"mb-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Выбрать из библиотеки"]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Выберите медиа-файлы"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:c.map((s,t)=>e.jsxs("div",{onClick:()=>d(s),className:`
                    relative cursor-pointer rounded-lg overflow-hidden border-2 transition-all duration-200
                    ${l(s)?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:shadow-md"}
                  `,children:[e.jsx("div",{className:"aspect-square bg-gray-100",children:s.type==="video"?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🎥"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Видео"})]})}):e.jsx(g,{src:s.path,alt:s.name,className:"w-full h-full object-cover",fallbackSrc:"/img/placeholder.jpg"})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white p-2",children:e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium truncate",children:s.name}),e.jsx("div",{className:"text-gray-300",children:s.size})]})}),l(s)&&e.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded-full",children:h(s.type)})]},t))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Закрыть"})})]})})]})}export{v as M};

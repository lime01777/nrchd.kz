import{r as x,W as b,j as e,Y as y,a as i}from"./app-BLg_d7_T.js";import{A as j}from"./AdminLayout-B1bsvpms.js";import{B as N}from"./index-CFsM7wpB.js";import{F as w,a as v}from"./index-F6ZQqbpZ.js";import"./transition-BPBPfsG6.js";import"./iconBase-CdDn0Ail.js";function F({translations:r,groups:s,filters:n}){const[d,o]=x.useState(n.search||""),[a,m]=x.useState(n.group||""),{get:l,delete:u,processing:c}=b(),p=t=>{t.preventDefault(),l(route("admin.translations.index",{search:d,group:a}))},h=()=>{a&&confirm('Автоматически перевести все тексты в группе "'+a+'"?')&&l(route("admin.translations.auto-translate-group",{group:a}))},g=t=>{confirm("Вы уверены, что хотите удалить этот перевод?")&&u(route("admin.translations.destroy",t))};return e.jsxs(j,{children:[e.jsx(y,{title:"Управление переводами"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Управление переводами"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{href:route("admin.translations.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Создать перевод"}),a&&e.jsxs("button",{onClick:h,disabled:c,className:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx(N,{className:"mr-2"}),"Автоперевод группы"]})]})]}),e.jsx("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:e.jsxs("form",{onSubmit:p,className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"text",value:d,onChange:t=>o(t.target.value),placeholder:"Поиск по переводам...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:w-1/4",children:e.jsxs("select",{value:a,onChange:t=>m(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Все группы"}),s.map((t,f)=>e.jsx("option",{value:t,children:t},f))]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Поиск"})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ключ"}),e.jsx("th",{className:"px-4 py-2 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Группа"}),e.jsx("th",{className:"px-4 py-2 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"RU"}),e.jsx("th",{className:"px-4 py-2 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"EN"}),e.jsx("th",{className:"px-4 py-2 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"KK"}),e.jsx("th",{className:"px-4 py-2 bg-gray-50 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Действия"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.data.length>0?r.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:t.key}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:t.group}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 max-w-[200px] truncate",children:t.ru}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 max-w-[200px] truncate",children:t.en||e.jsx("span",{className:"text-red-500 italic",children:"отсутствует"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 max-w-[200px] truncate",children:t.kk||e.jsx("span",{className:"text-red-500 italic",children:"отсутствует"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(i,{href:route("admin.translations.edit",t.id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(w,{size:18})}),e.jsx("button",{onClick:()=>g(t.id),className:"text-red-600 hover:text-red-900",children:e.jsx(v,{size:18})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-4 py-4 text-center text-gray-500",children:"Переводы не найдены"})})})]})}),r.data.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(k,{links:r.links})})]})})})})]})}function k({links:r}){return e.jsx("div",{className:"flex items-center justify-center mt-4",children:r.map((s,n)=>s.url?e.jsx(i,{href:s.url,className:`px-4 py-2 mx-1 rounded-md ${s.active?"bg-blue-600 text-white":"text-blue-600 bg-white hover:bg-blue-100"}`,dangerouslySetInnerHTML:{__html:s.label}},n):e.jsx("div",{className:"px-4 py-2 mx-1 text-gray-500 bg-white rounded-md",dangerouslySetInnerHTML:{__html:s.label}},n))})}export{F as default};

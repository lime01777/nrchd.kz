import{W as o,j as e,a as h}from"./app-glZY-ooV.js";import{A as j}from"./AdminLayout-JnYhYcRt.js";import{I as d}from"./InputLabel-Cc4xpFEj.js";import{P as p}from"./PrimaryButton-DoSdYkSC.js";import"./transition-BowJ8RkM.js";import"./use-is-mounted-Cgx4sEEc.js";function w({submission:t}){const{data:s,setData:r,patch:n,processing:l}=o({status:t.status,admin_notes:t.admin_notes||""}),c=a=>{a.preventDefault(),n(route("admin.medtech.submissions.update-status",t.id))},i=a=>({new:"bg-blue-100 text-blue-800",reviewed:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",x=a=>({new:"Новая",reviewed:"На рассмотрении",approved:"Одобрена",rejected:"Отклонена"})[a]||a;return e.jsx(j,{title:"Просмотр заявки",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(h,{href:route("admin.medtech.submissions"),className:"text-blue-600 hover:text-blue-800 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад к списку заявок"]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Заявка #",t.id]}),e.jsx("span",{className:`px-3 py-1 text-sm rounded ${i(t.status)}`,children:x(t.status)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Организация"}),e.jsx("p",{className:"text-gray-900",children:t.organization})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Контактное лицо"}),e.jsx("p",{className:"text-gray-900",children:t.contact_name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:t.contact_email})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Телефон"}),e.jsx("p",{className:"text-gray-900",children:t.contact_phone||"Не указан"})]}),t.technology_name&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Название технологии"}),e.jsx("p",{className:"text-gray-900",children:t.technology_name})]}),t.type&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Тип технологии"}),e.jsx("p",{className:"text-gray-900",children:t.type})]}),t.trl&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"TRL"}),e.jsx("p",{className:"text-gray-900",children:t.trl})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Дата подачи"}),e.jsx("p",{className:"text-gray-900",children:new Date(t.created_at).toLocaleString("ru-RU")})]})]}),t.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Описание технологии"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:t.description})]}),t.pilot_sites&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Предлагаемые пилотные площадки"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:t.pilot_sites})]}),t.attachment_path&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Прикрепленный файл"}),e.jsxs("a",{href:t.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Скачать файл"]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Управление заявкой"}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"status",value:"Изменить статус"}),e.jsxs("select",{id:"status",value:s.status,onChange:a=>r("status",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:[e.jsx("option",{value:"new",children:"Новая"}),e.jsx("option",{value:"reviewed",children:"На рассмотрении"}),e.jsx("option",{value:"approved",children:"Одобрена"}),e.jsx("option",{value:"rejected",children:"Отклонена"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"admin_notes",value:"Заметки администратора"}),e.jsx("textarea",{id:"admin_notes",value:s.admin_notes,onChange:a=>r("admin_notes",a.target.value),rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",placeholder:"Внутренние заметки по заявке"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{type:"submit",disabled:l,children:l?"Сохранение...":"Сохранить изменения"})})]})]})]})]})})})}export{w as default};

import{r as i,j as l}from"./app-D-38lHlO.js";import{I as h}from"./InputLabel-FGWR3WOM.js";import{I as b}from"./TextInput-DkYeym_i.js";function g({selectedCategories:s=[],onCategoriesChange:t,availableCategories:n=[],maxCategories:r=5,placeholder:f="Выберите категории...",className:c=""}){const[a,o]=i.useState(""),x=e=>{if(s.includes(e))t(s.filter(p=>p!==e));else{if(s.length>=r){alert(`Максимальное количество категорий: ${r}`);return}t([...s,e])}},u=()=>{const e=n.slice(0,r);t(e)},m=()=>{t([])},d=n.filter(e=>e.toLowerCase().includes(a.toLowerCase()));return l.jsxs("div",{className:c,children:[l.jsx(h,{value:"Категории"}),l.jsx("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Поиск категорий...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"button",onClick:u,className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Выбрать все"}),l.jsx("button",{type:"button",onClick:m,className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Очистить"})]}),l.jsx("div",{className:"mt-3 max-h-40 overflow-y-auto border border-gray-200 rounded-md",children:d.map(e=>l.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50",children:[l.jsx("input",{type:"checkbox",checked:s.includes(e),onChange:()=>x(e),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))}),s.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Выбрано: ",s.length,"/",r]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(e=>l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e,l.jsx("button",{type:"button",onClick:()=>x(e),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]},e))})]}),l.jsx(b,{message:null,className:"mt-2"})]})}export{g as C};

import{W as _,j as e,Y as f,a as y}from"./app-Ba3ktX9C.js";import{A as C}from"./AdminLayout-DJdrG37o.js";import{B as h}from"./Button-B4mRYM_e.js";import{S as i,I as d,C as N,g as w}from"./pageColors-BjPi3SKw.js";import"./transition-CWE13Hr6.js";function A({folders:g,pages:c}){const{data:l,setData:t,post:b,processing:u,errors:n}=_({name:"",page_route:"",folder_path:"",title:"",is_active:!0,sort_order:0,bg_color:"bg-gray-100"}),s=c.filter(a=>{const r=a.route.toLowerCase();return r.includes("direction")||r.includes("направления")||r.includes("napravlenia")||r.includes("primaryhealthcare")||r.includes("electronichealth")||r.includes("healthrate")});s.sort((a,r)=>a.name.localeCompare(r.name));const v=[{value:"bg-gray-100",label:"Серый"},{value:"bg-red-100",label:"Красный"},{value:"bg-blue-100",label:"Синий"},{value:"bg-green-100",label:"Зеленый"},{value:"bg-yellow-100",label:"Желтый"},{value:"bg-purple-100",label:"Фиолетовый"},{value:"bg-pink-100",label:"Розовый"},{value:"bg-indigo-100",label:"Индиго"},{value:"bg-orange-100",label:"Оранжевый"},{value:"bg-teal-100",label:"Бирюзовый"},{value:"bg-fuchsia-100",label:"Фуксия"}],x=a=>{const r=a.target.value,j=w(r)||"bg-gray-100";if(t({...l,page_route:r,bg_color:j}),!l.name||l.name===""){const m=c.find(o=>o.route===r);m&&t(o=>({...o,name:m.name}))}},p=a=>{a.preventDefault(),b(route("admin.document-accordions.store"))};return e.jsxs(C,{children:[e.jsx(f,{title:"Создание аккордеона документов"}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Создание аккордеона документов"}),e.jsx(y,{href:route("admin.document-accordions.index"),children:e.jsx(h,{variant:"secondary",children:"Назад к списку"})})]}),e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-6",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs(i,{label:"Страница направления",name:"page_route",value:l.page_route,onChange:x,error:n.page_route,required:!0,children:[e.jsx("option",{value:"",children:"Выберите страницу направления"}),s.map(a=>e.jsxs("option",{value:a.route,children:[a.name," (",a.route,")"]},a.route))]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Всего найдено страниц направлений: ",s.length]})]}),e.jsx("div",{children:e.jsx(d,{label:"Название аккордеона",name:"name",value:l.name,onChange:a=>t("name",a.target.value),error:n.name,required:!0})}),e.jsx("div",{children:e.jsxs(i,{label:"Папка с документами",name:"folder_path",value:l.folder_path,onChange:a=>t("folder_path",a.target.value),error:n.folder_path,required:!0,children:[e.jsx("option",{value:"",children:"Выберите папку"}),g.map(a=>e.jsx("option",{value:a.path,children:a.name},a.path))]})}),e.jsxs("div",{children:[e.jsx(d,{label:"Заголовок аккордеона",name:"title",value:l.title,onChange:a=>t("title",a.target.value),error:n.title,required:!0}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Заголовок, который будет отображаться на странице"})]}),e.jsx("div",{children:e.jsx(d,{label:"Порядок сортировки",name:"sort_order",type:"number",value:l.sort_order,onChange:a=>t("sort_order",parseInt(a.target.value)),error:n.sort_order})}),e.jsxs("div",{children:[e.jsx(i,{label:"Цвет фона",name:"bg_color",value:l.bg_color,onChange:a=>t("bg_color",a.target.value),error:n.bg_color,children:v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("div",{className:`mt-2 p-2 rounded ${l.bg_color}`,children:"Предпросмотр выбранного цвета"})]}),e.jsx("div",{className:"flex items-center mt-4",children:e.jsx(N,{name:"is_active",checked:l.is_active,onChange:a=>t("is_active",a.target.checked),label:"Активен"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(h,{type:"submit",variant:"primary",disabled:u,children:u?"Создание...":"Создать аккордеон"})})]})})]})]})}export{A as default};

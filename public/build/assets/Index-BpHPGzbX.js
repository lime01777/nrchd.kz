import{q as j,j as e,b as y,r as p,R as f,y as b,Y as N}from"./app-CZOK16ls.js";import{r as w}from"./ziggy-helper-CFIOv6-7.js";import{S as k}from"./SearchInput-Dmeqr02f.js";function C({clinic:s}){const{translations:l}=j().props,h=(m,u="")=>(l==null?void 0:l[m])||u,c=s.name||"",r=s.short_desc||"",a=s.logo_url||s.hero_url||"/img/clinics/default-clinic.jpg",i=s.specialties||[],o=s.address||"",x=s.phone||"",d=s.slug||"",t=h("clinics.view_details","ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ");return e.jsxs(y,{href:w("clinics.show.public",d),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 flex flex-col block",children:[e.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden flex-shrink-0",children:e.jsx("img",{src:a,alt:c,className:"w-full h-full object-cover",onError:m=>{m.target.src="/img/clinics/default-clinic.jpg"}})}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:c}),r&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:r}),i.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:i.map((m,u)=>e.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:m},u))}),o&&e.jsxs("p",{className:"text-gray-500 text-xs mb-2",children:["ðŸ“ ",o]}),x&&e.jsxs("p",{className:"text-gray-500 text-xs mb-3",children:["ðŸ“ž ",x]}),e.jsx("span",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium text-center mt-auto inline-block",children:t})]})]})}function g({value:s="",onChange:l,options:h=[],placeholder:c="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ...",disabled:r=!1}){const[a,i]=p.useState(!1),[o,x]=p.useState(""),d=p.useRef(null);p.useEffect(()=>{const n=v=>{d.current&&!d.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const t=h.find(n=>n.value===s),m=h.filter(n=>n.label.toLowerCase().includes(o.toLowerCase())),u=n=>{l(n.value),i(!1),x("")};return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{type:"button",onClick:()=>!r&&i(!a),disabled:r,className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-pointer focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("span",{className:`block truncate ${t?"text-gray-900":"text-gray-500"}`,children:t?t.label:c}),e.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:[h.length>10&&e.jsx("div",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:o,onChange:n=>x(n.target.value),placeholder:"ÐŸÐ¾Ð¸ÑÐº...",className:"block w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})}),m.length>0?m.map(n=>e.jsx("button",{onClick:()=>u(n),className:`w-full text-left px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 ${n.value===s?"bg-blue-50 text-blue-900":"text-gray-900"}`,children:n.label},n.value)):e.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾"})]})]})}function _({currentPage:s,lastPage:l,total:h,perPage:c,onPageChange:r}){const i=(()=>{const x=[],d=[];for(let t=Math.max(2,s-2);t<=Math.min(l-1,s+2);t++)x.push(t);return s-2>2?d.push(1,"..."):d.push(1),d.push(...x),s+2<l-1?d.push("...",l):d.push(l),d})();return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>r(s-1),disabled:s===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"ÐÐ°Ð·Ð°Ð´"}),e.jsx("button",{onClick:()=>r(s+1),disabled:s===l,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Ð’Ð¿ÐµÑ€ÐµÐ´"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["ÐŸÐ¾ÐºÐ°Ð·Ð°Ð½Ð¾"," ",e.jsx("span",{className:"font-medium",children:(s-1)*c+1})," ","Ð´Ð¾"," ",e.jsx("span",{className:"font-medium",children:Math.min(s*c,h)})," ","Ð¸Ð·"," ",e.jsx("span",{className:"font-medium",children:h})," ","Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>r(s-1),disabled:s===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð°Ñ"}),e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]}),i.map((o,x)=>e.jsx(f.Fragment,{children:o==="..."?e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}):e.jsx("button",{onClick:()=>r(o),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===s?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:o})},x)),e.jsxs("button",{onClick:()=>r(s+1),disabled:s===l,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ"}),e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})]})}function E({clinics:s,filters:l,filterOptions:h,pagination:c}){const{translations:r}=j().props,a=(t,m="")=>(r==null?void 0:r[t])||m,[i,o]=p.useState({search:(l==null?void 0:l.search)??"",city:(l==null?void 0:l.city)??"all",specialty:(l==null?void 0:l.specialty)??"all",service:(l==null?void 0:l.service)??"all"});p.useEffect(()=>{const t=setTimeout(()=>{b.visit(route("clinics"),{data:i,preserveState:!0,preserveScroll:!0,replace:!0})},300);return()=>clearTimeout(t)},[i]);const x=(t,m)=>{o(u=>({...u,[t]:m}))},d=t=>{o(m=>({...m,search:t}))};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:`${a("clinics.title","ÐšÐ»Ð¸Ð½Ð¸ÐºÐ¸")} - NRCHD`,meta:[{name:"description",content:a("clinics.description","ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ñ… ÐºÐ»Ð¸Ð½Ð¸Ðº")}]}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:a("clinics.title")}),e.jsx("p",{className:"mt-3 text-lg text-gray-600",children:a("clinics.subtitle")})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(k,{value:i.search,onChange:d,placeholder:a("clinics.search_placeholder")})}),e.jsx(g,{value:i.city,onChange:t=>x("city",t),options:[{value:"all",label:a("clinics.all_cities")},...h.cities],placeholder:a("clinics.select_city")}),e.jsx(g,{value:i.specialty,onChange:t=>x("specialty",t),options:[{value:"all",label:a("clinics.all_specialties")},...h.specialties],placeholder:a("clinics.select_specialty")})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-600",children:a("clinics.found_count","")||`ÐÐ°Ð¹Ð´ÐµÐ½Ð¾: ${c.total}`})}),s.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.data.map(t=>e.jsx(C,{clinic:t},t.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a("clinics.no_results_title")}),e.jsx("p",{className:"text-gray-600",children:a("clinics.no_results_description")})]}),c.last_page>1&&e.jsx("div",{className:"mt-8",children:e.jsx(_,{currentPage:c.current_page,lastPage:c.last_page,total:c.total,perPage:c.per_page,onPageChange:t=>{b.visit(route("clinics"),{data:{...i,page:t},preserveState:!0,preserveScroll:!0})}})})]})]})]})}export{E as default};

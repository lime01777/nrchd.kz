import{q as u,r as v,W as j,j as e,Y as N,a as m,y as i}from"./app-UG9l2vBo.js";import{A as y}from"./AdminLayout-Blojnjjo.js";import"./transition-BhEKm45f.js";import"./use-is-mounted-s2ax-Ob8.js";function f({application:s}){const{flash:l={}}=u().props,[o,a]=v.useState(!1),{data:n,setData:c,patch:w,processing:t}=j({status:s.status,notes:s.notes||""}),d=r=>{i.patch(route("admin.vacancy-applications.update-status",s.id),{status:r},{preserveScroll:!0,onSuccess:()=>{c("status",r)}})},h=()=>{i.patch(route("admin.vacancy-applications.update-notes",s.id),{notes:n.notes},{preserveScroll:!0,onSuccess:()=>{a(!1)}})},g=()=>{confirm("Вы уверены, что хотите удалить эту заявку?")&&i.delete(route("admin.vacancy-applications.destroy",s.id))},b=r=>{const x={blue:"bg-blue-100 text-blue-800",yellow:"bg-yellow-100 text-yellow-800",purple:"bg-purple-100 text-purple-800",red:"bg-red-100 text-red-800",green:"bg-green-100 text-green-800",gray:"bg-gray-100 text-gray-800"};return x[r]||x.gray};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:`Заявка от ${s.name}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(m,{href:route("admin.vacancy-applications.index"),className:"text-blue-600 hover:text-blue-800",children:"← Назад к списку заявок"})}),l&&l.success&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4 rounded",children:l.success}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Информация о кандидате"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Имя:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:s.name})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Email:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:e.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:text-blue-800",children:s.email})})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Телефон:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-blue-600 hover:text-blue-800",children:s.phone})})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Дата подачи:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:s.created_at})]}),s.reviewed_at&&e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Просмотрена:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:s.reviewed_at})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Вакансия"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Название:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:s.vacancy.title})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Департамент:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:s.vacancy.department})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Город:"}),e.jsx("div",{className:"col-span-2 text-sm text-gray-900",children:s.vacancy.city})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500"}),e.jsx("div",{className:"col-span-2",children:e.jsx(m,{href:route("vacancy.show",s.vacancy.slug),target:"_blank",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Посмотреть вакансию →"})})]})]})]})}),s.cover_letter&&e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Сопроводительное письмо"}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:s.cover_letter})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Резюме"}),e.jsxs("a",{href:s.resume_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Скачать резюме"]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Статус"}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${b(s.status_color)}`,children:s.status_label})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>d("new"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100",disabled:t,children:"Новая"}),e.jsx("button",{onClick:()=>d("reviewed"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100",disabled:t,children:"Просмотрена"}),e.jsx("button",{onClick:()=>d("contacted"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100",disabled:t,children:"Связались"}),e.jsx("button",{onClick:()=>d("rejected"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100",disabled:t,children:"Отклонена"}),e.jsx("button",{onClick:()=>d("hired"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100",disabled:t,children:"Принят"})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Заметки HR"}),o?e.jsxs("div",{children:[e.jsx("textarea",{value:n.notes,onChange:r=>c("notes",r.target.value),rows:6,className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"Добавьте заметки..."}),e.jsxs("div",{className:"mt-2 flex space-x-2",children:[e.jsx("button",{onClick:h,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",disabled:t,children:"Сохранить"}),e.jsx("button",{onClick:()=>{c("notes",s.notes||""),a(!1)},className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Отмена"})]})]}):e.jsxs("div",{children:[s.notes?e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap mb-3",children:s.notes}):e.jsx("p",{className:"text-sm text-gray-500 italic mb-3",children:"Заметок нет"}),e.jsx("button",{onClick:()=>a(!0),className:"text-sm text-blue-600 hover:text-blue-800",children:"Редактировать"})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Действия"}),e.jsx("button",{onClick:g,className:"w-full px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Удалить заявку"})]})})]})]})]})})]})}f.layout=s=>e.jsx(y,{children:s});export{f as default};

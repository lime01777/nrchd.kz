import{q as x,r as m,j as e,a as i,y as u}from"./app-OSKLxM22.js";import{A as h}from"./AdminLayout-df5ihdYn.js";import"./transition-BnP2xkJ5.js";function f(){const{news:t,filters:o,flash:n}=x().props,[r,a]=m.useState(o.search||""),l=r?t.filter(s=>s.title.toLowerCase().includes(r.toLowerCase())||s.category.toLowerCase().includes(r.toLowerCase())):t,d=s=>{switch(s){case"Опубликовано":return"bg-green-100 text-green-800";case"Черновик":return"bg-gray-100 text-gray-800";case"Запланировано":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},c=s=>{confirm("Вы уверены, что хотите удалить эту новость?")&&u.delete(route("admin.news.destroy",s))};return e.jsxs(e.Fragment,{children:[n&&n.success&&e.jsx("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:n.success}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Управление новостями"}),e.jsxs(i,{href:route("admin.news.create"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Добавить новость"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Поиск новостей...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:s=>a(s.target.value)}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:l.length>0?l.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:s.title})}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx("p",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d(s.status)}`,children:s.status})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),s.category]})}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{children:s.publish_date||s.publishDate||"Не опубликовано"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[e.jsx(i,{href:route("admin.news.edit",s.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-5 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Изменить"}),e.jsx(i,{href:route("news.show",s.slug),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Просмотр"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-5 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:()=>c(s.id),children:"Удалить"})]})]})},s.id)):e.jsx("li",{className:"px-4 py-4 sm:px-6 text-center text-gray-500",children:"Новости не найдены"})})}),e.jsx("div",{className:"mt-6",children:e.jsx("nav",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1 flex justify-between",children:[e.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Предыдущая"}),e.jsx("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",children:"Следующая"})]})})})]})}f.layout=t=>e.jsx(h,{title:"Управление новостями",children:t});export{f as default};

import{W as f,j as e,Y as y,a as C}from"./app-DipXF9Cs.js";import{A as N}from"./AdminLayout-L2z2umKC.js";import{B as m}from"./Button-Bem3MIe0.js";import{S as o,I as d,C as w,g as k}from"./pageColors-ClbwVOf0.js";import"./transition-CK3omwt2.js";function B({accordion:t,folders:g,pages:u}){const{data:r,setData:s,put:h,processing:b,errors:n}=f({name:t.name||"",page_route:t.page_route||"",folder_path:t.folder_path||"",title:t.title||"",is_active:t.is_active||!1,sort_order:t.sort_order||0,bg_color:t.bg_color||"bg-gray-100"}),i=u.filter(a=>{const l=a.route.toLowerCase();return l.includes("direction")||l.includes("направления")||l.includes("napravlenia")||l.includes("primaryhealthcare")||l.includes("electronichealth")||l.includes("healthrate")});i.sort((a,l)=>a.name.localeCompare(l.name));const v=[{value:"bg-gray-100",label:"Серый"},{value:"bg-red-100",label:"Красный"},{value:"bg-blue-100",label:"Синий"},{value:"bg-green-100",label:"Зеленый"},{value:"bg-yellow-100",label:"Желтый"},{value:"bg-purple-100",label:"Фиолетовый"},{value:"bg-pink-100",label:"Розовый"},{value:"bg-indigo-100",label:"Индиго"},{value:"bg-orange-100",label:"Оранжевый"},{value:"bg-teal-100",label:"Бирюзовый"},{value:"bg-fuchsia-100",label:"Фуксия"}],x=a=>{const l=a.target.value,j=k(l)||"bg-gray-100";if(s({...r,page_route:l,bg_color:j}),!r.name){const c=u.find(_=>_.route===l);c&&s("name",c.name)}},p=a=>{a.preventDefault(),h(route("admin.document-accordions.update",t.id),r)};return e.jsxs(N,{children:[e.jsx(y,{title:"Редактирование аккордеона документов"}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Редактирование аккордеона документов"}),e.jsx(C,{href:route("admin.document-accordions.index"),children:e.jsx(m,{variant:"secondary",children:"Назад к списку"})})]}),e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-6",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs(o,{label:"Страница направления",name:"page_route",value:r.page_route,onChange:x,error:n.page_route,required:!0,children:[e.jsx("option",{value:"",children:"Выберите страницу направления"}),i.map(a=>e.jsxs("option",{value:a.route,children:[a.name," (",a.route,")"]},a.route))]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Всего найдено страниц направлений: ",i.length]})]}),e.jsx("div",{children:e.jsx(d,{label:"Название аккордеона",name:"name",value:r.name,onChange:a=>s("name",a.target.value),error:n.name,required:!0})}),e.jsx("div",{children:e.jsxs(o,{label:"Папка с документами",name:"folder_path",value:r.folder_path,onChange:a=>s("folder_path",a.target.value),error:n.folder_path,required:!0,children:[e.jsx("option",{value:"",children:"Выберите папку"}),g.map(a=>e.jsx("option",{value:a.path,children:a.name},a.path))]})}),e.jsxs("div",{children:[e.jsx(d,{label:"Заголовок аккордеона",name:"title",value:r.title,onChange:a=>s("title",a.target.value),error:n.title,required:!0}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Заголовок, который будет отображаться на странице"})]}),e.jsx("div",{children:e.jsx(d,{label:"Порядок сортировки",name:"sort_order",type:"number",value:r.sort_order,onChange:a=>s("sort_order",parseInt(a.target.value)),error:n.sort_order})}),e.jsxs("div",{children:[e.jsx(o,{label:"Цвет фона",name:"bg_color",value:r.bg_color,onChange:a=>s("bg_color",a.target.value),error:n.bg_color,children:v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("div",{className:`mt-2 p-2 rounded ${r.bg_color}`,children:"Предпросмотр выбранного цвета"})]}),e.jsx("div",{className:"flex items-center mt-4",children:e.jsx(w,{name:"is_active",checked:r.is_active,onChange:a=>s("is_active",a.target.checked),label:"Активен"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(m,{type:"submit",variant:"primary",disabled:b,children:"Сохранить изменения"})})]})})]})]})}export{B as default};

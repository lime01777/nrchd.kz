import{j as e,Y as m,a as n}from"./app-C4SdFf0v.js";import{L as x}from"./LayoutNews-C-oCtfHs.js";import{N as h}from"./NewsSliderWithMain-DKMBNS2h.js";import"./Footer-CnapM-Oa.js";import"./TranslationService-BIPkk7bE.js";import"./SafeImage-MRQmUMVv.js";function v({news:r,relatedNews:i,seo:t}){const o=r.media||[],s=(r.gallery_images||o.filter(l=>l.type==="image").map(l=>l.url||l.path)).filter(Boolean),c=(r.gallery_videos||o.filter(l=>l.type==="video").map(l=>l.url||l.path)).filter(Boolean),d=[r.published_at_formatted&&{label:"Дата публикации",value:r.published_at_formatted},r.seo_description&&{label:"Кратко",value:r.seo_description}].filter(Boolean);return e.jsxs(x,{h1:r.title,subtitle:r.excerpt,img:r.cover_url,children:[e.jsxs(m,{children:[e.jsx("title",{children:(t==null?void 0:t.title)||r.title}),e.jsx("meta",{name:"description",content:(t==null?void 0:t.description)||r.excerpt||""}),e.jsx("meta",{property:"og:title",content:(t==null?void 0:t.title)||r.title}),e.jsx("meta",{property:"og:description",content:(t==null?void 0:t.description)||r.excerpt||""}),e.jsx("meta",{property:"og:image",content:(t==null?void 0:t.image)||r.cover_url}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs(n,{href:route("news.index"),className:"inline-flex items-center gap-2 text-sm font-semibold text-blue-600 transition hover:text-blue-700",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад к списку новостей"]})}),d.length>0&&e.jsx("aside",{className:"mb-10 grid gap-4 rounded-2xl border border-gray-100 bg-gray-50 p-6 shadow-sm md:grid-cols-2",children:d.map(({label:l,value:a})=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600",children:l}),e.jsx("span",{className:"text-base text-gray-800",children:a})]},l))}),r.cover_url&&e.jsx("figure",{className:"mb-12 overflow-hidden rounded-3xl bg-gray-100 shadow-lg",children:e.jsx("img",{src:r.cover_url,srcSet:`${r.cover_thumb_url} 800w, ${r.cover_url} 1600w`,alt:r.cover_image_alt||r.title,className:"h-auto w-full object-cover"})}),s.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-900",children:"Фотогалерея"}),e.jsx(h,{images:s,className:"h-96",height:"384px",showCounter:!0,showDots:!0}),s.length>1&&e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-4",children:s.map((l,a)=>e.jsx("div",{className:"overflow-hidden rounded-lg border border-transparent",children:e.jsx("img",{src:l,alt:`Миниатюра ${a+1}`,className:"h-24 w-full object-cover"})},`${l}-${a}`))})]}),c.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-900",children:"Видео"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:c.map((l,a)=>e.jsx("div",{className:"overflow-hidden rounded-2xl bg-black",children:e.jsx("video",{src:l,controls:!0,preload:"metadata",className:"h-full w-full object-cover",children:"Ваш браузер не поддерживает воспроизведение видео."})},`${l}-${a}`))})]}),e.jsx("article",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:leading-relaxed prose-a:text-blue-600",dangerouslySetInnerHTML:{__html:r.body}}),i&&i.length>0&&e.jsxs("section",{className:"mt-16 rounded-2xl bg-gray-50 p-8",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Ещё новости"}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:i.map(l=>e.jsxs(n,{href:route("news.show",l.slug),className:"group flex h-full flex-col overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"relative h-40 w-full overflow-hidden bg-gray-100",children:l.cover_thumb_url?e.jsx("img",{src:l.cover_thumb_url,alt:l.cover_image_alt||l.title,className:"h-full w-full object-cover transition duration-300 group-hover:scale-105",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-gray-300",children:e.jsx("svg",{className:"h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:l.title}),l.excerpt&&e.jsx("p",{className:"text-sm leading-relaxed text-gray-600 line-clamp-3",children:l.excerpt}),e.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:l.published_at_formatted})]})]},l.id))})]})]})}export{v as default};

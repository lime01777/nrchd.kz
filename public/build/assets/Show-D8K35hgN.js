import{r as u,j as e,a as g,Y as S}from"./app-C_HHkXdl.js";import{L as _}from"./LayoutNews-w64tQinf.js";import{S as B}from"./SafeImage-Cg856OXM.js";import{S as W}from"./SafeVideo-DdQmqMnV.js";import"./Footer-BXUT5kdV.js";function z({media:t=[],className:o="",autoPlay:n=!0,interval:l=5e3}){var p,v,j,w,f,b,N;const[x,h]=u.useState(0),[c,m]=u.useState(n),a=t.map(s=>{var r,d;if(typeof s=="string"){const M=(r=s.split(".").pop())==null?void 0:r.toLowerCase();return{path:s,type:["mp4","avi","mov","wmv","flv","webm"].includes(M)?"video":"image",name:s.split("/").pop()}}else if(s&&typeof s=="object")return{path:s.path||s,type:s.type||"image",name:s.name||((d=window.translations)==null?void 0:d.media_file)||"–ú–µ–¥–∏–∞ —Ñ–∞–π–ª"};return null}).filter(Boolean);u.useEffect(()=>{if(!n||!c||a.length<=1)return;const s=setInterval(()=>{h(r=>(r+1)%a.length)},l);return()=>clearInterval(s)},[n,c,l,a.length]);const y=()=>{h(s=>s===0?a.length-1:s-1)},k=()=>{h(s=>(s+1)%a.length)},L=s=>{h(s)},C=()=>{n&&m(!c)};if(a.length===0)return e.jsx("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center ${o}`,style:{minHeight:"300px"},children:e.jsxs("div",{className:"text-gray-500 text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{children:((p=window.translations)==null?void 0:p.no_media_files)||"–ù–µ—Ç –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"})]})});const i=a[x];return e.jsxs("div",{className:`relative overflow-hidden rounded-lg ${o}`,children:[e.jsxs("div",{className:"relative w-full h-64 md:h-80 lg:h-96 bg-black cursor-pointer",onClick:C,children:[i.type==="video"?e.jsx(W,{src:i.path,className:"w-full h-full object-contain",controls:!0,autoPlay:c,muted:!0,loop:!0,onPlay:()=>m(!0),onPause:()=>m(!1),fallbackContent:e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"üé•"}),e.jsx("div",{className:"text-xs text-gray-600",children:"–í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"})]})})},i.path):e.jsx(B,{src:i.path,alt:i.name,className:"w-full h-full object-cover",fallbackSrc:"/img/placeholder.jpg"}),e.jsx("div",{className:"hidden w-full h-full items-center justify-center text-gray-400 bg-gray-100",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:i.type==="video"?"üé• "+(((v=window.translations)==null?void 0:v.video)||"–í–∏–¥–µ–æ"):"üñºÔ∏è "+(((j=window.translations)==null?void 0:j.image)||"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")}),n&&e.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:c?"‚è∏Ô∏è "+(((w=window.translations)==null?void 0:w.pause)||"–ü–∞—É–∑–∞"):"‚ñ∂Ô∏è "+(((f=window.translations)==null?void 0:f.play)||"–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏")})]}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all","aria-label":((b=window.translations)==null?void 0:b.previous_slide)||"–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ª–∞–π–¥",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:k,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all","aria-label":((N=window.translations)==null?void 0:N.next_slide)||"–°–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),a.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:a.map((s,r)=>{var d;return e.jsx("button",{onClick:()=>L(r),className:`w-2 h-2 rounded-full transition-all ${r===x?"bg-white":"bg-white bg-opacity-50 hover:bg-opacity-75"}`,"aria-label":(d=window.translations)!=null&&d.go_to_slide?`${window.translations.go_to_slide} ${r+1}`:`–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–∞–π–¥—É ${r+1}`},r)})}),a.length>1&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:[x+1," / ",a.length]})]})}function I({news:t,relatedNews:o}){if(!t)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"–ù–æ–≤–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è –Ω–æ–≤–æ—Å—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞."}),e.jsx(g,{href:route("news"),className:"mt-6 inline-block bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –Ω–æ–≤–æ—Å—Ç–µ–π"})]})});const n=t.images&&t.images.length>0?t.images:t.image?[t.image]:[];return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:t.title,meta:[{name:"description",content:t.title+" ‚Äî –Ω–æ–≤–æ—Å—Ç—å –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ –ù–ù–¶–†–ó."}]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(g,{href:route("news"),className:"text-blue-500 hover:text-blue-700 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –Ω–æ–≤–æ—Å—Ç–µ–π"]})}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[n.length>0&&e.jsx("div",{className:"w-full",children:e.jsx(z,{media:n,className:"w-full",autoPlay:!0,interval:5e3})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"mr-4",children:[e.jsx("svg",{className:"w-4 h-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(t.publish_date).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})]}),e.jsxs("span",{children:[e.jsx("svg",{className:"w-4 h-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),Array.isArray(t.category)?t.category.join(", "):t.category]})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t.title}),e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t.content}}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-5 h-5 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsxs("span",{className:"text-gray-600",children:[t.views||0," –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-700",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})})]})]}),o&&o.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"–°–≤—è–∑–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(l=>e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[l.images&&l.images.length>0?e.jsx("div",{className:"h-40 overflow-hidden",children:e.jsx(NewsImageSlider,{images:l.images,className:"h-40",height:"192px",showDots:!0,showCounter:!0,autoPlay:!0,interval:3e3})}):l.image&&e.jsx("div",{className:"h-40 overflow-hidden",children:e.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 line-clamp-2",children:l.title}),e.jsxs(g,{href:route("news.show",l.slug),className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:["–ß–∏—Ç–∞—Ç—å",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},l.id))})]})]})})]})}I.layout=t=>e.jsx(_,{img:"news",h1:"–ù–æ–≤–æ—Å—Ç–∏",children:t});export{I as default};

import{q as w,r as u,j as t,y as b}from"./app-B2hWY771.js";function g(){const{locale:x}=w().props,n=x||"kz",[o,a]=u.useState(!1),l=u.useRef(null),i=[{code:"kz",name:"KZ",fullName:"Қазақша"},{code:"ru",name:"RU",fullName:"Русский"},{code:"en",name:"EN",fullName:"English"}],c=i.find(e=>e.code===n);u.useEffect(()=>{const e=s=>{l.current&&!l.current.contains(s.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const f=e=>{if(e===n)return;a(!1);const s=window.location.pathname,d=s.split("/").filter(h=>h!==""),p=["kz","ru","en"].includes(d[0]);let r;p?(d[0]=e,r="/"+d.join("/")):r="/"+e+s;const m=window.location.search;m&&(r+=m),b.visit(r,{method:"get",preserveState:!1,preserveScroll:!1})};return t.jsxs("div",{className:"relative",ref:l,children:[t.jsxs("button",{onClick:()=>a(!o),className:"flex items-center space-x-1 px-3 py-1 bg-transparent border border-gray-300 rounded-md focus:outline-none hover:bg-gray-50 text-xs transition-all duration-200","aria-label":"Выбрать язык",title:"Переключить язык",children:[t.jsx("span",{className:"font-medium text-gray-700",children:c==null?void 0:c.name}),t.jsx("svg",{className:`w-3 h-3 text-gray-500 transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&t.jsx("div",{className:"absolute top-full mt-1 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-50 min-w-[120px]",children:i.map((e,s)=>t.jsxs("button",{onClick:()=>f(e.code),className:`w-full flex items-center justify-between px-3 py-2 text-xs hover:bg-gray-50 transition-colors duration-150 ${e.code===n?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"} ${s===0?"rounded-t-md":""} ${s===i.length-1?"rounded-b-md":""}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:e.name}),t.jsxs("span",{className:"text-gray-400 text-xs",children:["(",e.fullName,")"]})]}),e.code===n&&t.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.code))})]})}export{g as D};

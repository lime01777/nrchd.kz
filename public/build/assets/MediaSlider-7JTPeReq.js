import{r as h,j as e}from"./app-DfgtJ-ur.js";import{S as M}from"./SafeImage-DekpXOSK.js";import{S}from"./SafeVideo-DnoHcQVb.js";function I({media:v=[],className:u="",autoPlay:n=!0,interval:x=5e3}){var p,g,m,f,b,w,j;const[c,i]=h.useState(0),[o,d]=h.useState(n),s=v.map(t=>{var l,r;if(typeof t=="string"){const C=(l=t.split(".").pop())==null?void 0:l.toLowerCase();return{path:t,type:["mp4","avi","mov","wmv","flv","webm"].includes(C)?"video":"image",name:t.split("/").pop()}}else if(t&&typeof t=="object")return{path:t.path||t,type:t.type||"image",name:t.name||((r=window.translations)==null?void 0:r.media_file)||"–ú–µ–¥–∏–∞ —Ñ–∞–π–ª"};return null}).filter(Boolean);h.useEffect(()=>{if(!n||!o||s.length<=1)return;const t=setInterval(()=>{i(l=>(l+1)%s.length)},x);return()=>clearInterval(t)},[n,o,x,s.length]);const y=()=>{i(t=>t===0?s.length-1:t-1)},k=()=>{i(t=>(t+1)%s.length)},N=t=>{i(t)},L=()=>{n&&d(!o)};if(s.length===0)return e.jsx("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center ${u}`,style:{minHeight:"300px"},children:e.jsxs("div",{className:"text-gray-500 text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{children:((p=window.translations)==null?void 0:p.no_media_files)||"–ù–µ—Ç –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"})]})});const a=s[c];return e.jsxs("div",{className:`relative overflow-hidden rounded-lg ${u}`,children:[e.jsxs("div",{className:"relative w-full h-64 md:h-80 lg:h-96 bg-black cursor-pointer",onClick:L,children:[a.type==="video"?e.jsx(S,{src:a.path,className:"w-full h-full object-contain",controls:!0,autoPlay:o,muted:!0,loop:!0,onPlay:()=>d(!0),onPause:()=>d(!1),fallbackContent:e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"üé•"}),e.jsx("div",{className:"text-xs text-gray-600",children:"–í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"})]})})},a.path):e.jsx(M,{src:a.path,alt:a.name,className:"w-full h-full object-cover",fallbackSrc:"/img/placeholder.jpg"}),e.jsx("div",{className:"hidden w-full h-full items-center justify-center text-gray-400 bg-gray-100",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:a.type==="video"?"üé• "+(((g=window.translations)==null?void 0:g.video)||"–í–∏–¥–µ–æ"):"üñºÔ∏è "+(((m=window.translations)==null?void 0:m.image)||"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ")}),n&&e.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:o?"‚è∏Ô∏è "+(((f=window.translations)==null?void 0:f.pause)||"–ü–∞—É–∑–∞"):"‚ñ∂Ô∏è "+(((b=window.translations)==null?void 0:b.play)||"–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏")})]}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all","aria-label":((w=window.translations)==null?void 0:w.previous_slide)||"–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ª–∞–π–¥",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:k,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all","aria-label":((j=window.translations)==null?void 0:j.next_slide)||"–°–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),s.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.map((t,l)=>{var r;return e.jsx("button",{onClick:()=>N(l),className:`w-2 h-2 rounded-full transition-all ${l===c?"bg-white":"bg-white bg-opacity-50 hover:bg-opacity-75"}`,"aria-label":(r=window.translations)!=null&&r.go_to_slide?`${window.translations.go_to_slide} ${l+1}`:`–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–∞–π–¥—É ${l+1}`},l)})}),s.length>1&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:[c+1," / ",s.length,s.length>=15&&e.jsx("span",{className:"ml-1 text-yellow-300",children:"(–º–∞–∫—Å.)"})]})]})}export{I as M};

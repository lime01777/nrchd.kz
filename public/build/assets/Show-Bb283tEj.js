import{j as e,Y as g,a as x}from"./app-C8K1oLkQ.js";import{L as p}from"./LayoutNews-DlcKc1_b.js";import{N as u}from"./NewsSliderWithMain-zYNZb9ag.js";import"./Footer-CGTEK2kJ.js";import"./TranslationService-BIPkk7bE.js";import"./SafeImage-byTtSpv5.js";function _({news:l,relatedNews:o,seo:t}){const c=l.media||[],h=l.type==="media",i=(l.gallery_images||c.filter(r=>r.type==="image").map(r=>r.url||r.path)).filter(Boolean),d=(l.gallery_videos||c.filter(r=>r.type==="video").map(r=>r.url||r.path)).filter(Boolean),n=[l.published_at_formatted&&{label:"Дата публикации",value:l.published_at_formatted},l.seo_description&&{label:"Кратко",value:l.seo_description}].filter(Boolean);return e.jsxs(p,{h1:l.title,subtitle:l.excerpt,img:l.cover_url,children:[e.jsxs(g,{children:[e.jsx("title",{children:(t==null?void 0:t.title)||l.title}),e.jsx("meta",{name:"description",content:(t==null?void 0:t.description)||l.excerpt||""}),e.jsx("meta",{property:"og:title",content:(t==null?void 0:t.title)||l.title}),e.jsx("meta",{property:"og:description",content:(t==null?void 0:t.description)||l.excerpt||""}),e.jsx("meta",{property:"og:image",content:(t==null?void 0:t.image)||l.cover_url}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs(x,{href:route("news.index"),className:"inline-flex items-center gap-2 text-sm font-semibold text-blue-600 transition hover:text-blue-700",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад к списку новостей"]})}),n.length>0&&e.jsx("aside",{className:"mb-10 grid gap-4 rounded-2xl border border-gray-100 bg-gray-50 p-6 shadow-sm md:grid-cols-2",children:n.map(({label:r,value:a})=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600",children:r}),e.jsx("span",{className:"text-base text-gray-800",children:a})]},r))}),l.cover_url&&e.jsx("figure",{className:"mb-12 overflow-hidden rounded-3xl bg-gray-100 shadow-lg",children:e.jsx("img",{src:l.cover_url,srcSet:`${l.cover_thumb_url} 800w, ${l.cover_url} 1600w`,alt:l.cover_image_alt||l.title,className:"h-auto w-full object-cover"})}),i.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-900",children:"Фотогалерея"}),e.jsx(u,{images:i,className:"h-96",height:"384px",showCounter:!0,showDots:!0}),i.length>1&&e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-4",children:i.map((r,a)=>e.jsx("div",{className:"overflow-hidden rounded-lg border border-transparent",children:e.jsx("img",{src:r,alt:`Миниатюра ${a+1}`,className:"h-24 w-full object-cover"})},`${r}-${a}`))})]}),d.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-900",children:"Видео"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:d.map((r,a)=>e.jsx("div",{className:"overflow-hidden rounded-2xl bg-black",children:e.jsx("video",{src:r,controls:!0,preload:"metadata",className:"h-full w-full object-cover",children:"Ваш браузер не поддерживает воспроизведение видео."})},`${r}-${a}`))})]}),e.jsx("article",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:leading-relaxed prose-a:text-blue-600",dangerouslySetInnerHTML:{__html:l.body}}),o&&o.length>0&&e.jsxs("section",{className:"mt-16 rounded-2xl bg-gray-50 p-8",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:h?"Другие материалы СМИ":"Ещё новости"}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:o.map(r=>{const m=(Array.isArray(r.images)?r.images.map(s=>typeof s=="string"?s:typeof s=="object"&&(s.url||s.path)||null).filter(Boolean):[])[0]||r.cover_thumb_url||r.cover_url||null;return e.jsxs(x,{href:route("news.show",r.slug),className:"group flex h-full flex-col overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"relative h-40 w-full overflow-hidden bg-gray-100",children:m?e.jsx("img",{src:m,alt:r.cover_image_alt||r.title,className:"h-full w-full object-cover transition duration-300 group-hover:scale-105",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-gray-300",children:e.jsx("svg",{className:"h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:r.title}),e.jsx("span",{className:"mt-1 block text-xs font-medium uppercase tracking-wide text-gray-500",children:r.published_at_formatted})]}),e.jsxs("span",{className:"inline-flex items-center text-sm font-semibold text-blue-600",children:["Читать далее",e.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},r.id)})})]})]})}export{_ as default};

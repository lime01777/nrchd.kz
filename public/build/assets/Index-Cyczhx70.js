import{q as n,j as e,Y as m,b as r,y as l}from"./app-Lo3qLtpL.js";import{A as o}from"./AdminLayout-Bf86Xd8v.js";import{r as a}from"./ziggy-helper-CFIOv6-7.js";import"./transition-CHEsy4D7.js";import"./use-is-mounted-euwcWtMh.js";function c({clinics:s}){const{flash:d={}}=n().props,x=t=>{confirm(`Вы уверены, что хотите удалить клинику "${t.name_ru}"?`)&&l.delete(a("admin.clinics.destroy",t.id),{preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Управление клиниками"}),e.jsx("div",{className:"py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-4 lg:px-6",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-4 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Клиники Казахстана"}),e.jsx(r,{href:a("admin.clinics.create"),className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition",children:"+ Добавить"})]}),d&&d.success&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-2 mb-3 rounded text-sm",children:d.success}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Название"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Город"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статус"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Мед. туризм"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.data&&s.data.length>0?s.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:t.name_ru})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:t.city_ru||"—"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("button",{onClick:()=>{l.patch(a("admin.clinics.toggle-published",t.id),{},{preserveScroll:!0,onSuccess:()=>{}})},className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full cursor-pointer transition-colors ${t.is_published?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,title:t.is_published?"Нажмите, чтобы скрыть":"Нажмите, чтобы опубликовать",children:t.is_published?"✓ Опубликована":"○ Черновик"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-4 font-semibold rounded-full ${t.is_medical_tourism?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.is_medical_tourism?"Да":"Нет"})}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-xs font-medium",children:[e.jsx(r,{href:a("admin.clinics.edit",t.id),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Редактировать"}),e.jsx("button",{onClick:()=>x(t),className:"text-red-600 hover:text-red-900",children:"Удалить"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-4 py-4 text-center text-gray-500 text-sm",children:"Клиники не найдены"})})})]})}),s.links&&s.links.length>3&&e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.prev_page_url&&e.jsx(r,{href:s.prev_page_url,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Назад"}),s.next_page_url&&e.jsx(r,{href:s.next_page_url,className:"ml-2 relative inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Вперед"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-xs text-gray-700",children:["Показано ",e.jsx("span",{className:"font-medium",children:s.from||0})," - ",e.jsx("span",{className:"font-medium",children:s.to||0})," из ",e.jsx("span",{className:"font-medium",children:s.total||0})]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:s.links.map((t,i)=>e.jsx(r,{href:t.url||"#",className:`relative inline-flex items-center px-2.5 py-1.5 border text-xs font-medium ${t.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${t.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:t.label}},i))})})]})]})]})})})})]})}c.layout=s=>e.jsx(o,{title:"Клиники",children:s});export{c as default};

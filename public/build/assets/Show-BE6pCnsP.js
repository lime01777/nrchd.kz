import{j as e,Y as h,a as p}from"./app-Cple6JDE.js";import{N as u}from"./NewsSliderWithMain-4HN2yXRd.js";import{L as j}from"./LayoutNews-COEmArXk.js";import"./SafeImage-Cge7Zi2K.js";import"./Footer-2lljOxbn.js";import"./TranslationService-BIPkk7bE.js";function k({news:r,relatedNews:n,seo:t}){const o=r.media||[],c=r.type==="media",s=(r.gallery_images||o.filter(l=>l.type==="image").map(l=>l.url||l.path)).filter(Boolean),d=(r.gallery_videos||o.filter(l=>l.type==="video").map(l=>l.url||l.path)).filter(Boolean),m=r.published_at_full||r.published_at_formatted||"";[{name:"Instagram",url:r.social_instagram,icon:"M7 10c1.657 0 3-1.343 3-3S8.657 4 7 4 4 5.343 4 7s1.343 3 3 3z"},{name:"Facebook",url:r.social_facebook,icon:"M18 2h-3a4 4 0 00-4 4v3H8v4h3v8h4v-8h3l1-4h-4V6a1 1 0 011-1h3z"},{name:"YouTube",url:r.social_youtube,icon:"M10 15l5.19-3L10 9v6zm10-7.5s-.1-1.43-.58-2.06c-.56-.78-1.19-.78-1.48-.82C16.42 4.35 12 4.35 12 4.35h-.02s-4.42 0-5.92.27c-.29.04-.92.04-1.48.82-.48.63-.58 2.06-.58 2.06S4 9.07 4 10.63v1.75c0 1.56.02 3.13.02 3.13s.1 1.43.58 2.06c.56.78 1.29.75 1.62.83 1.18.12 5.78.26 5.78.26s4.42 0 5.92-.27c.29-.04.92-.04 1.48-.82.48-.63.58-2.06.58-2.06s.02-1.56.02-3.13V10.63c0-1.56-.02-3.13-.02-3.13z"},{name:"Telegram",url:r.social_telegram,icon:"M21 3L3 10.53l5.18 1.66L9 21l4.06-4.06L17.82 21 21 3z"}].filter(l=>!!l.url);const g=()=>e.jsxs("div",{className:"bg-gradient-to-b from-white via-blue-50/30 to-blue-100/20 pb-10 pt-8 sm:pt-10 lg:pt-12",children:[e.jsxs(h,{children:[e.jsx("title",{children:(t==null?void 0:t.title)||r.title}),e.jsx("meta",{name:"description",content:(t==null?void 0:t.description)||r.excerpt||""}),e.jsx("meta",{property:"og:title",content:(t==null?void 0:t.title)||r.title}),e.jsx("meta",{property:"og:description",content:(t==null?void 0:t.description)||r.excerpt||""}),e.jsx("meta",{property:"og:image",content:(t==null?void 0:t.image)||r.cover_url}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsx("div",{className:"container mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"mt-8 grid gap-8 lg:grid-cols-[2fr,1fr] lg:items-start",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-blue-600",children:c?"СМИ О НАС":"НОВОСТИ"}),e.jsx("h1",{className:"mt-4 text-3xl font-bold leading-tight text-gray-900 sm:text-4xl lg:text-5xl",children:r.title}),m&&e.jsxs("div",{className:"mt-6 inline-flex items-center rounded-full bg-white/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-blue-700 shadow",children:["Опубликовано: ",e.jsx("span",{className:"ml-2 text-sm normal-case text-gray-700",children:m})]})]})})})]});return e.jsxs(j,{renderCustomHero:g,children:[e.jsxs(h,{children:[e.jsx("title",{children:(t==null?void 0:t.title)||r.title}),e.jsx("meta",{name:"description",content:(t==null?void 0:t.description)||r.excerpt||""}),e.jsx("meta",{property:"og:title",content:(t==null?void 0:t.title)||r.title}),e.jsx("meta",{property:"og:description",content:(t==null?void 0:t.description)||r.excerpt||""}),e.jsx("meta",{property:"og:image",content:(t==null?void 0:t.image)||r.cover_url}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs(p,{href:route("news.index"),className:"inline-flex items-center gap-2 text-sm font-semibold text-blue-600 transition hover:text-blue-700",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад к списку новостей"]})}),s.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-900",children:"Фотогалерея"}),e.jsx(u,{images:s,className:"h-96",height:"384px",showCounter:!0,showDots:!0}),s.length>1&&e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-4",children:s.map((l,a)=>e.jsx("button",{type:"button",onClick:()=>window.dispatchEvent(new CustomEvent("news-slider:go-to",{detail:a})),className:"group overflow-hidden rounded-lg border border-transparent shadow transition hover:border-blue-200 hover:shadow-md",children:e.jsx("img",{src:l,alt:`Миниатюра ${a+1}`,className:"h-24 w-full object-cover transition duration-300 group-hover:scale-105"})},`${l}-${a}`))})]}),d.length>0&&e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-900",children:"Видео"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:d.map((l,a)=>e.jsx("div",{className:"overflow-hidden rounded-2xl bg-black",children:e.jsx("video",{src:l,controls:!0,preload:"metadata",className:"h-full w-full object-cover",children:"Ваш браузер не поддерживает воспроизведение видео."})},`${l}-${a}`))})]}),e.jsx("article",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:leading-relaxed prose-a:text-blue-600",dangerouslySetInnerHTML:{__html:r.body}}),n&&n.length>0&&e.jsxs("section",{className:"mt-16 rounded-2xl bg-gray-50 p-8",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:c?"Другие материалы СМИ":"Ещё новости"}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:n.map(l=>{const x=(Array.isArray(l.images)?l.images.map(i=>typeof i=="string"?i:typeof i=="object"&&(i.url||i.path)||null).filter(Boolean):[])[0]||l.cover_thumb_url||l.cover_url||null;return e.jsxs(p,{href:route("news.show",l.slug),className:"group flex h-full flex-col overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"relative h-40 w-full overflow-hidden bg-gray-100",children:x?e.jsx("img",{src:x,alt:l.cover_image_alt||l.title,className:"h-full w-full object-cover transition duration-300 group-hover:scale-105",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-gray-300",children:e.jsx("svg",{className:"h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:l.title}),e.jsx("span",{className:"mt-1 block text-xs font-medium uppercase tracking-wide text-gray-500",children:l.published_at_formatted})]}),e.jsxs("span",{className:"inline-flex items-center text-sm font-semibold text-blue-600",children:["Читать далее",e.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},l.id)})})]})]})}export{k as default};

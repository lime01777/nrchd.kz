import{W as u,j as e,a as m}from"./app-BQ3qogJL.js";import{A as v}from"./AdminLayout-f3yOrxNE.js";import{I as l}from"./InputLabel-nimsA1oF.js";import{T as c,I as o}from"./TextInput-CKKjzIBs.js";import{P as f}from"./PrimaryButton-B0HTaf4P.js";import"./transition-DaXKZx3h.js";import"./use-is-mounted-DTc0JcqL.js";function C({document:s=null}){const{data:t,setData:a,post:n,put:p,processing:x,errors:i}=u({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",type:(s==null?void 0:s.type)||"",file:null,order:(s==null?void 0:s.order)||0,is_active:(s==null?void 0:s.is_active)??!0}),h=r=>{r.preventDefault();const j=new FormData;Object.keys(t).forEach(d=>{t[d]!==null&&j.append(d,t[d])}),s?p(route("admin.medtech.documents.update",s.id)):n(route("admin.medtech.documents.store"))};return e.jsx(v,{title:s?"Редактировать документ":"Создать документ",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(m,{href:route("admin.medtech.documents"),className:"text-blue-600 hover:text-blue-800 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Назад к списку документов"]})}),e.jsxs("form",{onSubmit:h,className:"space-y-6 bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",value:"Название документа *"}),e.jsx(c,{id:"title",type:"text",value:t.title,onChange:r=>a("title",r.target.value),className:"mt-1 block w-full",required:!0}),e.jsx(o,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",value:"Описание"}),e.jsx("textarea",{id:"description",value:t.description,onChange:r=>a("description",r.target.value),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"}),e.jsx(o,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"type",value:"Тип/категория"}),e.jsx(c,{id:"type",type:"text",value:t.type,onChange:r=>a("type",r.target.value),className:"mt-1 block w-full",placeholder:"Правила, Методика, Приказ и др."}),e.jsx(o,{message:i.type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"file",value:s?"Новый файл (оставьте пустым, чтобы не менять)":"Файл *"}),e.jsx("input",{id:"file",type:"file",accept:".pdf,.doc,.docx",onChange:r=>a("file",r.target.files[0]),className:"mt-1 block w-full",required:!s}),e.jsx(o,{message:i.file,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"order",value:"Порядок сортировки"}),e.jsx(c,{id:"order",type:"number",value:t.order,onChange:r=>a("order",parseInt(r.target.value)||0),className:"mt-1 block w-full"})]}),e.jsxs("div",{className:"flex items-center mt-6",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:t.is_active,onChange:r=>a("is_active",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Активен"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(m,{href:route("admin.medtech.documents"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Отмена"}),e.jsx(f,{type:"submit",disabled:x,children:x?"Сохранение...":"Сохранить"})]})]})]})})})}export{C as default};

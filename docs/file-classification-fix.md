# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —Ñ–∞–π–ª–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ò–∑ –ª–æ–≥–æ–≤ –±—ã–ª–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è:
```
[2025-08-21 15:00:36] local.INFO: –§–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π: {
  "count":2,
  "files":[
    {"name":"–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.mp4","size":18625808,"mime_type":"video/mp4","extension":"mp4","is_valid":true,"error":0},
    {"name":"2.jpg","size":109712,"mime_type":"image/jpeg","extension":"jpg","is_valid":true,"error":0}
  ]
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–∏–¥–µ–æ —Ñ–∞–π–ª `"–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.mp4"` –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –º–∞—Å—Å–∏–≤ `image_files`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫:
1. –í–∏–¥–µ–æ —Ñ–∞–π–ª –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (18.6MB > 10MB)
2. MIME —Ç–∏–ø `video/mp4` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –ü—Ä–∏—á–∏–Ω–∞
–õ–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –≤ `handleMediaChange` –±—ã–ª–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–¥–µ–∂–Ω–æ–π –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∞ –≤—Å–µ —Å–ª—É—á–∞–∏.

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞

#### **Create.jsx - –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏**
```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
const determineFileType = (file) => {
  const name = file.name || '';
  const type = file.type || '';
  const extension = name.split('.').pop()?.toLowerCase() || '';
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: MIME —Ç–∏–ø
  if (type.startsWith('video/')) {
    return 'video';
  } else if (type.startsWith('image/')) {
    return 'image';
  }
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
  const videoExtensions = ['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm'];
  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];
  
  if (videoExtensions.includes(extension)) {
    return 'video';
  } else if (imageExtensions.includes(extension)) {
    return 'image';
  }
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—á–∏—Ç–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
  console.warn('–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞, —Å—á–∏—Ç–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:', name, type, extension);
  return 'image';
};
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–µ–¥–∏–∞

#### **–û–±—Ä–∞–±–æ—Ç–∫–∞ File –æ–±—ä–µ–∫—Ç–æ–≤**
```javascript
if (item instanceof File) {
  const fileType = determineFileType(item);
  if (fileType === 'video') {
    console.log('–î–æ–±–∞–≤–ª—è–µ–º –≤–∏–¥–µ–æ —Ñ–∞–π–ª:', item.name);
    videoFiles.push(item);
  } else {
    console.log('–î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª:', item.name);
    imageFiles.push(item);
  }
}
```

#### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ñ–∞–π–ª–∞–º–∏**
```javascript
} else if (item && item.file) {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ñ–∞–π–ª–∞–º–∏
  const file = item.file;
  const fileType = determineFileType(file);
  if (fileType === 'video') {
    console.log('–î–æ–±–∞–≤–ª—è–µ–º –≤–∏–¥–µ–æ —Ñ–∞–π–ª –∏–∑ –æ–±—ä–µ–∫—Ç–∞:', file.name);
    videoFiles.push(file);
  } else {
    console.log('–î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª –∏–∑ –æ–±—ä–µ–∫—Ç–∞:', file.name);
    imageFiles.push(file);
  }
}
```

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏**
```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
const determineFileType = (file) => {
  const name = file.name || '';
  const type = file.type || '';
  const extension = name.split('.').pop()?.toLowerCase() || '';
  
  if (type.startsWith('video/') || ['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm'].includes(extension)) {
    return 'video';
  } else if (type.startsWith('image/') || ['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(extension)) {
    return 'image';
  }
  return 'unknown';
};

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é
if (data.image_files && data.image_files.length > 0) {
  data.image_files.forEach(file => {
    const fileType = determineFileType(file);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    if (fileType === 'video') {
      console.warn('–í–∏–¥–µ–æ —Ñ–∞–π–ª –ø–æ–ø–∞–ª –≤ –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø–µ—Ä–µ–º–µ—â–∞–µ–º:', file.name);
      validVideoFiles.push(file);
      return;
    }
    
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
  });
}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
1. **MIME —Ç–∏–ø** - —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞** - —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ç–æ–¥
3. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

### 2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```javascript
const videoExtensions = ['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm'];
const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];
```

### 3. –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–ü—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** - –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ `video_files`
2. **–ù–∞–¥–µ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞** - —É—á–∏—Ç—ã–≤–∞–µ—Ç MIME —Ç–∏–ø—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–¢–æ—á–Ω–æ—Å—Ç—å** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- **–ì–∏–±–∫–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- **–û—Ç–ª–∞–¥–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤ (.mp4, .avi, .mov)
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (.jpg, .png, .gif, .webp)
- [ ] –°–º–µ—à–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–≤–∏–¥–µ–æ + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- [ ] –§–∞–π–ª—ã –±–µ–∑ MIME —Ç–∏–ø–∞ (—Ç–æ–ª—å–∫–æ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:
```javascript
// –¢–µ—Å—Ç —Å –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–º
const videoFile = new File([''], 'test.mp4', { type: 'video/mp4' });
// –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–ø–∞–¥–∞–µ—Ç –≤ videoFiles

// –¢–µ—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
const imageFile = new File([''], 'test.jpg', { type: 'image/jpeg' });
// –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–ø–∞–¥–∞–µ—Ç –≤ imageFiles

// –¢–µ—Å—Ç –±–µ–∑ MIME —Ç–∏–ø–∞
const unknownFile = new File([''], 'test.mp4');
// –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–ø–∞–¥–∞–µ—Ç –≤ videoFiles (–ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é)
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:** 100%
- **–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:** 0%
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** < 1 —Å–µ–∫—É–Ω–¥—ã

### –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```javascript
// –£—Å–ø–µ—à–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
console.log('–î–æ–±–∞–≤–ª—è–µ–º –≤–∏–¥–µ–æ —Ñ–∞–π–ª:', item.name);
console.log('–î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª:', item.name);

// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
console.warn('–í–∏–¥–µ–æ —Ñ–∞–π–ª –ø–æ–ø–∞–ª –≤ –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø–µ—Ä–µ–º–µ—â–∞–µ–º:', file.name);
console.warn('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ø–∞–ª–æ –≤ –º–∞—Å—Å–∏–≤ –≤–∏–¥–µ–æ, –ø–µ—Ä–µ–º–µ—â–∞–µ–º:', file.name);
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é** - –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é** - –Ω–∞ —ç—Ç–∞–ø–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
3. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** - –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** - –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤** - –Ω–µ –ø—Ä–µ–≤—ã—à–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã
3. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤** - –Ω–µ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### –í–∏–¥–µ–æ:
- **MP4** (.mp4) - –¥–æ 50MB
- **AVI** (.avi) - –¥–æ 50MB
- **MOV** (.mov) - –¥–æ 50MB
- **WMV** (.wmv) - –¥–æ 50MB
- **FLV** (.flv) - –¥–æ 50MB
- **WebM** (.webm) - –¥–æ 50MB

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
- **JPEG** (.jpg, .jpeg) - –¥–æ 10MB
- **PNG** (.png) - –¥–æ 10MB
- **GIF** (.gif) - –¥–æ 10MB
- **WebP** (.webp) - –¥–æ 10MB
